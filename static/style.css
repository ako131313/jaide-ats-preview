/* ============================================================
   JAIDE ATS – AI-Powered ATS for Legal Search
   ============================================================ */

/* ── Matter typeface ────────────────────────────────────────── */
@font-face {
    font-family: 'Matter';
    src: url('/static/fonts/Matter-Regular.woff2') format('woff2');
    font-weight: 400;
    font-style: normal;
    font-display: swap;
}
@font-face {
    font-family: 'Matter';
    src: url('/static/fonts/Matter-Medium.woff2') format('woff2');
    font-weight: 500;
    font-style: normal;
    font-display: swap;
}
@font-face {
    font-family: 'Matter';
    src: url('/static/fonts/Matter-SemiBold.woff2') format('woff2');
    font-weight: 600;
    font-style: normal;
    font-display: swap;
}
@font-face {
    font-family: 'Matter';
    src: url('/static/fonts/Matter-Bold.woff2') format('woff2');
    font-weight: 700;
    font-style: normal;
    font-display: swap;
}

:root {
    --bg: #F6F6F6;
    --white: #ffffff;
    --primary: #0059FF;
    --primary-light: #E0F1FF;
    --primary-hover: #0047CC;
    --primary-dark: #0047CC;
    --blue: #0059FF;
    --blue-light: #E0F1FF;
    --blue-hover: #0047CC;
    --dark: #151515;
    --gray: #696969;
    --gray-light: #EDEDED;
    --gray-lighter: #F6F6F6;
    --green-bg: #E0F1FF;
    --green-dark: #0059FF;
    --green-light-bg: #E0F1FF;
    --blue-tier-bg: #E0F1FF;
    --blue-tier-dark: #0059FF;
    --orange-bg: #ffedd5;
    --orange-dark: #9a3412;
    --tier1plus: #0059FF;
    --tier1: #0791FE;
    --tier2: #E0F1FF;
    --tier3: #F6F6F6;
    --radius: 8px;
    --radius-lg: 12px;
    --shadow: 0 1px 3px rgba(0,0,0,.08);
    --shadow-md: 0 4px 12px rgba(0,0,0,.1);
    --nav-height: 56px;
    --font: 'Matter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

html, body {
    height: 100%;
    font-family: var(--font);
    font-size: 14px;
    color: var(--dark);
    background: var(--bg);
}
body.app-mode {
    overflow: hidden;
}
body.mkt-mode {
    height: auto;
    overflow-y: auto;
    background: #000;
}

/* ============================================================
   Top Nav
   ============================================================ */
.top-nav {
    height: var(--nav-height);
    background: var(--white);
    border-bottom: 1px solid var(--gray-light);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 24px;
    position: fixed;
    top: 0; left: 0; right: 0;
    z-index: 100;
}

/* -- Nav Left (Logo) -- */
.nav-left { display: flex; align-items: center; }
.nav-logo-link {
    display: flex; align-items: center; gap: 10px;
    text-decoration: none; color: inherit;
}
.nav-logo-badge {
    background: #151515;
    border-radius: 8px;
    padding: 4px 10px;
    display: flex; align-items: center;
    height: 36px;
}
/* Logo image */
.nav-logo-img  { height: 56px; width: auto; object-fit: contain; display: block; }
.mkt-logo-img  { height: 56px; width: auto; object-fit: contain; display: block; }
.mkt-logo-modal { height: 64px; }
.mkt-logo-footer { height: 48px; }
.nav-logo-svg { flex-shrink: 0; }
.nav-logo-text {
    font-weight: 800; font-size: 20px;
    color: var(--primary-dark); letter-spacing: -0.5px;
}

/* -- Nav Center (Tabs) -- */
.nav-center {
    display: flex; align-items: center; gap: 4px;
    position: absolute; left: 50%; transform: translateX(-50%);
}
.nav-tab {
    display: flex; align-items: center; gap: 6px;
    padding: 8px 16px;
    background: none; border: none;
    border-bottom: 2px solid transparent;
    font-family: var(--font); font-size: 13px; font-weight: 600;
    color: #313131; cursor: pointer;
    transition: all .15s; white-space: nowrap;
}
.nav-tab:hover { color: var(--dark); background: var(--gray-lighter); }
.nav-tab.active {
    color: #0059FF;
    background: none;
    border-bottom-color: #0059FF;
}
.nav-tab svg { flex-shrink: 0; }

/* -- Nav Right (Settings + Avatar) -- */
.nav-right { display: flex; align-items: center; gap: 12px; }

.nav-gear {
    display: flex; align-items: center; justify-content: center;
    width: 34px; height: 34px; border: 1px solid var(--gray-light);
    border-radius: 50%; background: var(--white); cursor: pointer;
    color: var(--gray); transition: all .15s;
}
.nav-gear:hover { border-color: var(--primary); color: var(--primary); }

.nav-avatar {
    width: 34px; height: 34px; border-radius: 50%;
    background: var(--primary); color: #fff;
    display: flex; align-items: center; justify-content: center;
    font-size: 13px; font-weight: 700; cursor: pointer;
}

/* ============================================================
   App Container & Views
   ============================================================ */
.app-container {
    height: calc(100vh - var(--nav-height));
    margin-top: var(--nav-height);
    overflow: hidden;
}

.view { display: none; height: 100%; }
.view.view-active { display: flex; }
#view-home.view-active { display: flex; }
#view-search.view-active { display: flex; }
#view-dashboard.view-active { display: block; overflow-y: auto; }
#view-pipeline.view-active { display: block; overflow-y: auto; }
#view-firms.view-active { display: block; overflow-y: auto; }
#view-email.view-active { display: block; overflow-y: auto; }

/* ============================================================
   HOME VIEW
   ============================================================ */
.home-content {
    display: flex; flex-direction: column;
    width: 100%; height: 100%;
    overflow-y: auto;
}
.home-hero-section {
    background: linear-gradient(172deg, #000 10.08%, #0059FF 41.45%, #0791FE 64.42%, #E0F1FF 101.36%);
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    text-align: center;
    padding: 64px 20px 56px;
    gap: 16px;
    min-height: 55vh;
}
.home-logo { margin-bottom: 4px; }
.home-tagline {
    font-size: 18px; font-weight: 500;
    color: rgba(255,255,255,0.88);
    max-width: 440px; line-height: 1.6;
    letter-spacing: 0.01em;
}
.home-cards-section {
    background: #FFFFFF;
    padding: 48px 20px 60px;
    display: flex; justify-content: center;
    flex: 1;
}

/* -- Home Cards -- */
.home-cards {
    display: flex; gap: 20px;
    margin-top: 24px; flex-wrap: wrap;
    justify-content: center;
}
.home-card {
    width: 220px; padding: 28px 24px;
    background: var(--white);
    border: 1px solid var(--gray-light);
    border-radius: var(--radius-lg);
    cursor: pointer; text-align: center;
    transition: all .2s;
    display: flex; flex-direction: column;
    align-items: center; gap: 10px;
}
.home-card:hover {
    border-color: var(--primary);
    box-shadow: 0 8px 24px rgba(0,89,255,.10);
    transform: translateY(-2px);
}
.home-card h3 {
    font-size: 15px; font-weight: 700; color: var(--dark);
}
.home-card p {
    font-size: 12px; color: var(--gray); line-height: 1.5;
}
.home-card-icon {
    width: 52px; height: 52px; border-radius: 14px;
    display: flex; align-items: center; justify-content: center;
}
.home-card-icon-jobs { background: #E0F1FF; color: #0059FF; }
.home-card-icon-attorneys { background: #E0F1FF; color: #0059FF; }
.home-card-icon-pipeline { background: #fef3c7; color: #92400e; }

/* ============================================================
   SEARCH VIEW (Split Pane – Jobs + Attorneys)
   ============================================================ */

/* -- Chat Panel -- */
.chat-panel {
    flex: 0 0 35%;
    min-width: 220px;
    display: flex;
    flex-direction: column;
    background: var(--bg);
    border-right: none;
    position: relative;
    transition: flex .3s ease;
}

/* Drag handle */
.panel-divider {
    width: 5px;
    cursor: col-resize;
    background: var(--gray-light);
    position: relative;
    flex-shrink: 0;
    transition: background .15s;
    z-index: 5;
}
.panel-divider:hover, .panel-divider.dragging {
    background: var(--primary);
}

.chat-messages {
    flex: 1;
    overflow-y: auto;
    padding: 24px;
    display: flex;
    flex-direction: column;
    gap: 16px;
}

/* Welcome */
.welcome {
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    text-align: center;
    flex: 1; gap: 12px; padding: 40px 20px;
}
.welcome-icon { margin-bottom: 8px; }
.welcome-title { font-size: 22px; font-weight: 700; color: var(--dark); }
.welcome-sub { font-size: 14px; color: var(--gray); max-width: 420px; line-height: 1.6; }

/* Chat bubbles */
.chat-bubble {
    max-width: 100%;
    padding: 12px 16px;
    border-radius: var(--radius-lg);
    font-size: 14px;
    line-height: 1.65;
    word-wrap: break-word;
    animation: fadeIn .25s ease;
}
@keyframes fadeIn { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }

.chat-bubble.user {
    background: var(--primary);
    color: #fff;
    align-self: flex-end;
    border-bottom-right-radius: 4px;
}
.chat-bubble.assistant {
    background: var(--white);
    color: var(--dark);
    border: 1px solid var(--gray-light);
    align-self: flex-start;
    border-bottom-left-radius: 4px;
}
.chat-bubble.assistant strong { font-weight: 600; }

.chat-loading {
    display: flex; gap: 6px; padding: 12px 16px;
    align-self: flex-start;
}
.chat-loading span {
    width: 8px; height: 8px; border-radius: 50%;
    background: var(--gray-light);
    animation: bounce .6s infinite alternate;
}
.chat-loading span:nth-child(2) { animation-delay: .15s; }
.chat-loading span:nth-child(3) { animation-delay: .3s; }
@keyframes bounce { to { background: var(--primary); transform: translateY(-4px); } }

/* Chat input */
.chat-input-area {
    padding: 12px 24px 20px;
    background: var(--bg);
}
.suggestion-chips {
    display: flex; gap: 8px; margin-bottom: 10px; flex-wrap: wrap;
}
.chip {
    background: var(--white); border: 1px solid var(--gray-light);
    border-radius: 20px; padding: 6px 14px;
    font-size: 12px; color: var(--gray); cursor: pointer;
    font-family: var(--font); transition: all .15s;
}
.chip:hover { border-color: var(--primary); color: var(--primary); background: var(--primary-light); }

.chat-input-wrapper {
    display: flex; align-items: flex-end;
    background: var(--white); border: 1px solid var(--gray-light);
    border-radius: var(--radius-lg); padding: 4px 4px 4px 16px;
    box-shadow: var(--shadow);
    transition: border-color .15s;
}
.chat-input-wrapper:focus-within { border-color: var(--primary); }

.chat-input {
    flex: 1; border: none; outline: none; resize: none;
    font-family: var(--font); font-size: 14px;
    line-height: 1.5; padding: 8px 0;
    max-height: 120px; min-height: 20px;
    background: transparent; color: var(--dark);
}
.chat-input::placeholder { color: #adb5bd; }

.input-controls {
    display: flex; align-items: center; gap: 6px; flex-shrink: 0;
}

.btn-send {
    width: 36px; height: 36px;
    background: var(--primary); color: #fff;
    border: none; border-radius: var(--radius);
    cursor: pointer; display: flex; align-items: center; justify-content: center;
    flex-shrink: 0; transition: background .15s;
}
.btn-send:hover { background: var(--primary-hover); }
.btn-send:disabled { opacity: .4; cursor: default; }

/* Mode toggle */
.mode-toggle {
    display: flex; align-items: center; gap: 4px;
    padding: 4px 10px; border-radius: 16px;
    font-size: 11px; font-weight: 600;
    color: var(--primary-dark); background: var(--primary-light);
    cursor: pointer; user-select: none;
    transition: all .15s; white-space: nowrap;
}
.mode-toggle:hover { background: #C0D9FF; }
.mode-toggle.mode-quick { color: var(--gray); background: var(--gray-lighter); }
.mode-icon { flex-shrink: 0; }

/* AI loading */
.ai-loading { border-color: var(--primary-light) !important; }
.ai-loading-content {
    display: flex; align-items: center; gap: 10px;
    font-weight: 600; color: var(--primary-dark); font-size: 14px;
}
.ai-loading-sub { font-size: 12px; color: var(--gray); margin-top: 6px; }
.ai-spinner {
    width: 18px; height: 18px;
    border: 2.5px solid var(--primary-light);
    border-top-color: var(--primary);
    border-radius: 50%;
    animation: spin 1s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* ============================================================
   Results Panel
   ============================================================ */
.results-panel {
    flex: 1;
    overflow-y: auto;
    background: var(--bg);
    padding: 0;
}
.results-placeholder {
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    height: 100%; text-align: center; gap: 12px; padding: 40px;
}
.results-placeholder-text { font-size: 16px; font-weight: 600; color: var(--gray-light); }
.results-placeholder-sub { font-size: 13px; color: #c4c9d1; max-width: 320px; }

.results-content { padding: 24px 28px 40px; }

.results-header {
    display: flex; align-items: center; justify-content: space-between;
    margin-bottom: 24px;
}
.results-header-left { display: flex; align-items: center; gap: 10px; }
.results-header-right { display: flex; align-items: center; gap: 8px; }
.results-title { font-size: 18px; font-weight: 700; }
.results-mode-badge {
    font-size: 10px; font-weight: 700; text-transform: uppercase;
    padding: 3px 10px; border-radius: 12px; letter-spacing: .5px;
}
.badge-ai { background: #ede9fe; color: #7c3aed; }
.badge-quick { background: var(--gray-lighter); color: var(--gray); }
.btn-export {
    display: flex; align-items: center; gap: 6px;
    background: var(--white); border: 1px solid var(--gray-light);
    border-radius: var(--radius); padding: 8px 14px;
    font-size: 12px; font-weight: 600; color: var(--dark);
    cursor: pointer; font-family: var(--font); transition: all .15s;
}
.btn-export:hover { border-color: var(--primary); color: var(--primary); }

.section-label {
    font-size: 11px; font-weight: 700; text-transform: uppercase;
    letter-spacing: .8px; color: var(--gray); margin: 28px 0 12px;
}
.section-label:first-of-type { margin-top: 0; }

/* Hiring Pattern Bar Charts */
.charts-row {
    display: grid; grid-template-columns: 1fr 1fr;
    gap: 20px; margin-bottom: 24px;
}
.chart-box {
    background: var(--white);
    border: 1px solid var(--gray-light);
    border-radius: var(--radius); padding: 16px;
}
.chart-title {
    font-size: 12px; font-weight: 700; text-transform: uppercase;
    letter-spacing: .5px; color: var(--gray); margin-bottom: 12px;
}
.chart-bars { display: flex; flex-direction: column; gap: 6px; }
.bar-row { display: flex; align-items: center; gap: 8px; font-size: 12px; }
.bar-label {
    width: 140px; min-width: 140px; text-align: right;
    color: var(--dark); font-weight: 500;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.bar-track {
    flex: 1; height: 18px; background: var(--gray-lighter);
    border-radius: 4px; overflow: hidden; position: relative;
}
.bar-fill {
    height: 100%; border-radius: 4px;
    transition: width .4s ease; min-width: 2px;
}
.bar-fill.bar-firm { background: var(--primary); }
.bar-fill.bar-school { background: #8b5cf6; }
.bar-value {
    font-size: 11px; font-weight: 600; color: var(--gray); min-width: 28px;
}

/* Table filter */
.table-controls { margin-bottom: 14px; }
.table-search {
    width: 260px; padding: 8px 12px;
    border: 1px solid var(--gray-light); border-radius: var(--radius);
    font-size: 13px; font-family: var(--font); outline: none;
    transition: border-color .15s;
}
.table-search:focus { border-color: var(--primary); }

/* Tier sections */
.tier-section { margin-bottom: 24px; }
.tier-header {
    display: flex; align-items: center; justify-content: space-between;
    flex-wrap: wrap; gap: 8px; margin-bottom: 8px;
}
.tier-header-left { display: flex; align-items: center; gap: 10px; }
.tier-count { font-size: 12px; color: var(--gray); font-weight: 500; }
.tier-desc { font-size: 12px; color: var(--gray); font-style: italic; }

/* Tier badge */
.tier-badge {
    display: inline-block;
    font-size: 10px; font-weight: 700;
    padding: 3px 8px; border-radius: 4px; white-space: nowrap;
}
.tier-badge.tb-1plus { background: #0059FF; color: #fff; }
.tier-badge.tb-1 { background: #0791FE; color: #fff; }
.tier-badge.tb-2 { background: #E0F1FF; color: #0059FF; }
.tier-badge.tb-3 { background: #F6F6F6; color: #696969; }
.boomerang-badge {
    display: inline-block; font-size: 9px; font-weight: 700; text-transform: uppercase;
    padding: 2px 6px; border-radius: 4px; margin-left: 4px; vertical-align: middle;
    background: #fef3c7; color: #92400e; border: 1px solid #fcd34d; letter-spacing: 0.3px;
}

/* Table */
.table-wrapper { overflow-x: auto; border-radius: var(--radius); border: 1px solid var(--gray-light); }
.candidate-table {
    width: 100%; border-collapse: collapse;
    font-size: 13px; background: var(--white);
}
.candidate-table thead th {
    background: var(--gray-lighter);
    font-weight: 600; text-align: left;
    padding: 6px 8px; white-space: nowrap;
    border-bottom: 2px solid var(--gray-light);
    font-size: 12px;
}
.candidate-table tbody td {
    padding: 6px 8px;
    border-bottom: 1px solid var(--gray-lighter);
    vertical-align: top; font-size: 12px;
}
.candidate-table tbody tr:last-child td { border-bottom: none; }
.candidate-table tbody tr:hover { background: #f9fafb; }

/* Cell styles */
.col-tier { width: 60px; }
.cell-rank { text-align: center; font-weight: 600; color: var(--gray); width: 28px; }
.cell-center { text-align: center; }
.cell-name { min-width: 110px; white-space: nowrap; }
.name-primary { font-weight: 600; color: var(--dark); font-size: 12px; }
.name-prior { font-size: 10px; color: #9ca3af; margin-top: 1px; max-width: 180px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.cell-spec { max-width: 140px; font-size: 11px; color: var(--gray); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.cell-assessment {
    min-width: 240px; max-width: 340px;
    font-size: 11px; color: #313131; line-height: 1.55;
    padding: 8px 10px; white-space: normal; word-wrap: break-word;
}

/* Score badge */
.score-badge {
    display: inline-block;
    font-size: 12px; font-weight: 700;
    padding: 3px 10px; border-radius: 12px;
    min-width: 36px; text-align: center;
}
.score-1 { background: #0059FF; color: #fff; }
.score-2 { background: #E0F1FF; color: #0059FF; }
.score-3 { background: #F6F6F6; color: #696969; }

/* Scoring Algorithm */
.scoring-breakdown {
    background: var(--white);
    border: 1px solid var(--gray-light);
    border-radius: var(--radius); padding: 16px; margin-bottom: 24px;
}
.scoring-title {
    font-size: 12px; font-weight: 700; text-transform: uppercase;
    letter-spacing: .5px; color: var(--gray); margin-bottom: 12px;
}
.scoring-bars { display: flex; flex-direction: column; gap: 5px; }
.scoring-row { display: flex; align-items: center; gap: 8px; font-size: 12px; }
.scoring-label {
    width: 150px; min-width: 150px; text-align: right;
    color: var(--dark); font-weight: 500;
}
.scoring-track {
    flex: 1; height: 16px; background: var(--gray-lighter);
    border-radius: 3px; overflow: hidden;
}
.scoring-fill {
    height: 100%; border-radius: 3px; transition: width .4s ease;
}
.scoring-pts {
    font-size: 11px; font-weight: 700; color: var(--gray); min-width: 40px;
}

/* No data */
.no-data { color: #9ca3af; font-size: 13px; }
.streaming-note {
    color: var(--primary); font-size: 13px; font-weight: 500;
    padding: 16px; text-align: center;
    animation: pulse 1.5s ease-in-out infinite;
}
@keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }

/* Match pills */
.match-pill {
    display: inline-block; font-size: 11px; padding: 2px 8px;
    border-radius: 10px; margin: 1px 2px;
    background: var(--primary-light); color: var(--primary-dark);
    white-space: nowrap;
}

/* Scrollbar */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: #d1d5db; border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: #9ca3af; }

/* Responsive */
@media (max-width: 800px) {
    .chat-panel { flex: 0 0 100% !important; }
    .results-panel { display: none; }
    .panel-divider { display: none; }
    .nav-center { display: none; }
}

/* ============================================================
   Attorney Profile Modal
   ============================================================ */
.profile-overlay {
    display: none; position: fixed; inset: 0;
    background: rgba(0,0,0,.45);
    z-index: 200; justify-content: center; align-items: center;
    padding: 24px;
}
.profile-overlay.open { display: flex; }

.profile-card {
    background: var(--white); border-radius: var(--radius-lg);
    box-shadow: 0 12px 40px rgba(0,0,0,.2);
    width: 100%; max-width: 1100px; max-height: 90vh;
    overflow-y: auto; position: relative;
    animation: profileIn .2s ease;
}
@keyframes profileIn { from { opacity: 0; transform: scale(.97) translateY(10px); } to { opacity: 1; transform: none; } }

.profile-close {
    position: absolute; top: 14px; right: 14px;
    width: 32px; height: 32px; border: none; background: var(--gray-lighter);
    border-radius: 50%; cursor: pointer; display: flex; align-items: center;
    justify-content: center; color: var(--gray); font-size: 18px;
    transition: background .15s; z-index: 1;
}
.profile-close:hover { background: var(--gray-light); color: var(--dark); }

.profile-body { display: flex; gap: 0; }
.profile-left {
    width: 300px; min-width: 260px; max-width: 320px; flex-shrink: 0;
    padding: 28px 20px 28px 28px;
    border-right: 1px solid var(--gray-light);
    display: flex; flex-direction: column; gap: 0;
}
.profile-photo-center { display: flex; justify-content: flex-start; margin-bottom: 12px; }
.profile-name-center { margin-bottom: 14px; }

.profile-photo {
    width: 72px; height: 72px; border-radius: var(--radius);
    object-fit: cover;
}
.profile-avatar {
    width: 72px; height: 72px; border-radius: var(--radius);
    display: flex; align-items: center; justify-content: center;
    font-size: 24px; font-weight: 700; color: #fff;
    letter-spacing: 1px;
}

.profile-name { font-size: 18px; font-weight: 700; color: var(--dark); line-height: 1.2; }
.profile-name .year { font-weight: 500; color: var(--gray); font-size: 14px; }
.profile-firm-row { display: flex; align-items: center; gap: 6px; flex-wrap: wrap; margin-top: 4px; }
.profile-action-buttons {
    display: flex; flex-direction: column; gap: 6px; margin-bottom: 16px;
}
.btn-add-pipeline-profile {
    display: inline-flex; align-items: center; gap: 5px;
    padding: 6px 12px; font-size: 12px; font-weight: 600; width: 100%; justify-content: center;
    color: #fff; background: var(--primary); border: none; border-radius: var(--radius);
    cursor: pointer; font-family: var(--font); transition: background .15s;
}
.btn-add-pipeline-profile:hover { background: var(--primary-hover); }
.btn-find-similar-profile, .btn-pitch-profile {
    display: inline-flex; align-items: center; gap: 5px;
    padding: 6px 12px; font-size: 12px; font-weight: 500; width: 100%; justify-content: center;
    color: var(--dark); background: var(--gray-lighter); border: 1px solid var(--gray-light);
    border-radius: var(--radius); cursor: pointer; font-family: var(--font); transition: background .15s;
}
.btn-find-similar-profile:hover, .btn-pitch-profile:hover { background: var(--gray-light); }
.profile-action-buttons .btn-secondary { width: 100%; justify-content: center; font-size: 12px; }
.profile-firm-link {
    color: var(--primary-dark); text-decoration: none; font-size: 13px; font-weight: 500;
}
.profile-firm-link:hover { text-decoration: underline; color: var(--primary); }
.profile-title-badge {
    font-size: 10px; font-weight: 600; padding: 2px 8px;
    border-radius: 12px; background: var(--primary); color: #fff;
}

.profile-contact { display: flex; flex-direction: column; gap: 5px; margin-bottom: 14px; }
.profile-contact-row { display: flex; align-items: center; gap: 7px; font-size: 12px; color: var(--dark); }
.profile-contact-row svg { flex-shrink: 0; color: var(--gray); }
.profile-contact-row a { color: var(--primary-dark); text-decoration: none; }
.profile-contact-row a:hover { text-decoration: underline; }

/* Profile right: tabs */
.profile-right {
    flex: 1; min-width: 0; display: flex; flex-direction: column;
}
.profile-tabs-bar {
    display: flex; border-bottom: 1px solid var(--gray-light);
    padding: 0 24px; gap: 0; flex-shrink: 0;
}
.profile-tab {
    background: none; border: none; border-bottom: 2px solid transparent;
    padding: 14px 16px 12px; font-size: 13px; font-weight: 500; color: var(--gray);
    cursor: pointer; font-family: var(--font); transition: color .15s, border-color .15s;
    margin-bottom: -1px;
}
.profile-tab:hover { color: var(--dark); }
.profile-tab.active { color: var(--primary); border-bottom-color: var(--primary); font-weight: 600; }

.profile-tab-panels { flex: 1; overflow-y: auto; }
.profile-tab-panel { display: none; padding: 20px 24px; }
.profile-tab-panel.active { display: block; }

/* Bio in Profile tab */
.profile-section { margin-bottom: 16px; }
.profile-bio-full {
    font-size: 13px; color: #313131; line-height: 1.65; margin-top: 6px;
    white-space: pre-wrap;
}
.profile-bio-toggle {
    background: none; border: none; color: var(--primary); font-size: 12px;
    font-weight: 600; cursor: pointer; padding: 4px 0; font-family: var(--font); display: block; margin-top: 4px;
}
.profile-bio-toggle:hover { text-decoration: underline; }

.profile-field-label {
    font-size: 10px; font-weight: 700; text-transform: uppercase;
    letter-spacing: .5px; color: var(--gray); margin-bottom: 4px;
}
.profile-field-value { font-size: 13px; color: var(--dark); line-height: 1.5; }
.profile-pills { display: flex; flex-wrap: wrap; gap: 4px; }
.profile-pill {
    display: inline-block; font-size: 11px; padding: 3px 10px;
    border-radius: 12px; background: var(--primary-light); color: var(--primary-dark);
    font-weight: 500;
}
.profile-sync-date { font-size: 11px; color: #9ca3af; margin-top: 12px; }

/* Experience tab */
.profile-experience-placeholder {
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    padding: 40px 20px; gap: 10px; text-align: center; color: var(--gray);
}
.profile-experience-placeholder p { margin: 0; font-size: 13px; }
.profile-exp-sub { font-size: 12px; color: #9CA3AF !important; }

/* Correspondence tab */
.corr-list { display: flex; flex-direction: column; gap: 0; }
.corr-row {
    padding: 10px 0; border-bottom: 1px solid var(--gray-light);
}
.corr-row:last-child { border-bottom: none; }
.corr-row-top { display: flex; align-items: center; gap: 8px; margin-bottom: 4px; }
.corr-subject { font-size: 13px; font-weight: 500; color: var(--dark); flex: 1; }
.corr-row-meta { display: flex; align-items: center; gap: 8px; font-size: 11px; color: var(--gray); flex-wrap: wrap; }
.corr-date { flex-shrink: 0; }
.corr-job { background: var(--gray-lighter); padding: 1px 7px; border-radius: 10px; font-size: 11px; }

/* Matched Jobs tab */
.matched-jobs-list { display: flex; flex-direction: column; gap: 0; }
.matched-job-row { padding: 10px 0; border-bottom: 1px solid var(--gray-light); }
.matched-job-row:last-child { border-bottom: none; }
.matched-job-title { font-size: 13px; font-weight: 500; color: var(--dark); margin-bottom: 4px; }
.matched-job-meta { display: flex; align-items: center; gap: 8px; font-size: 12px; color: var(--gray); }
.matched-job-firm { font-size: 12px; }
.pipeline-stage-chip {
    font-size: 11px; padding: 2px 8px; border-radius: 10px;
    background: var(--primary-light); color: var(--primary-dark); font-weight: 500;
}

/* Tab loading state */
.tab-loading { padding: 20px 0; color: var(--gray); font-size: 13px; }

/* Clickable name */
.name-link { color: var(--primary-dark); cursor: pointer; text-decoration: none; }
.name-link:hover { text-decoration: underline; color: var(--primary); }

/* Responsive profile */
@media (max-width: 800px) {
    .profile-body { flex-direction: column; }
    .profile-left { width: 100%; max-width: none; border-right: none; border-bottom: 1px solid var(--gray-light); padding-bottom: 20px; }
}

/* ============================================================
   Checkbox Column & Floating Action Bar
   ============================================================ */
.col-check { width: 32px; text-align: center; }
.cell-check { text-align: center; }
.cell-check input, .col-check input { cursor: pointer; width: 15px; height: 15px; accent-color: var(--primary); }
.row-selected { background: #E0F1FF !important; }
.row-selected:hover { background: #C0D9FF !important; }

.floating-action-bar {
    position: sticky; bottom: 0;
    display: flex; align-items: center; gap: 10px;
    background: var(--white); border-top: 2px solid var(--primary);
    padding: 10px 20px;
    box-shadow: 0 -4px 16px rgba(0,0,0,.1);
    z-index: 20;
    animation: slideUp .2s ease;
}
@keyframes slideUp { from { transform: translateY(100%); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

.job-floating-bar-fixed {
    position: fixed; bottom: 0; left: 0; right: 0;
}

.fab-count {
    font-size: 13px; font-weight: 600; color: var(--primary-dark); margin-right: 6px;
}
.fab-btn {
    display: flex; align-items: center; gap: 6px;
    padding: 7px 14px; border-radius: var(--radius);
    font-size: 12px; font-weight: 600; cursor: pointer;
    font-family: var(--font); border: 1px solid var(--gray-light);
    background: var(--white); color: var(--dark); transition: all .15s;
}
.fab-btn:hover { border-color: var(--primary); color: var(--primary); }
.fab-btn-primary {
    background: var(--primary); color: #fff; border-color: var(--primary);
}
.fab-btn-primary:hover { background: var(--primary-hover); color: #fff; }
.fab-btn-clear {
    margin-left: auto; color: var(--gray); border: none; background: none;
}
.fab-btn-clear:hover { color: var(--dark); }

/* ============================================================
   Modal Overlay (shared)
   ============================================================ */
.modal-overlay {
    display: none; position: fixed; inset: 0;
    background: rgba(0,0,0,.45);
    z-index: 300; justify-content: center; align-items: flex-start;
    padding: 60px 24px 24px; overflow-y: auto;
}
.modal-overlay.open { display: flex; }

.modal-card {
    background: var(--white); border-radius: var(--radius-lg);
    box-shadow: 0 12px 40px rgba(0,0,0,.2);
    width: 100%; max-width: 540px;
    padding: 28px; position: relative;
    animation: profileIn .2s ease;
}
.modal-composer { max-width: 680px; }

.modal-close {
    position: absolute; top: 14px; right: 14px;
    width: 32px; height: 32px; border: none; background: var(--gray-lighter);
    border-radius: 50%; cursor: pointer; display: flex; align-items: center;
    justify-content: center; color: var(--gray); font-size: 18px;
    transition: background .15s; z-index: 1;
}
.modal-close:hover { background: var(--gray-light); color: var(--dark); }
.modal-title { font-size: 18px; font-weight: 700; margin-bottom: 20px; }

/* ============================================================
   Form Styles
   ============================================================ */
.form-group { margin-bottom: 14px; }
.form-group label {
    display: block; font-size: 12px; font-weight: 600;
    color: var(--gray); margin-bottom: 4px; text-transform: uppercase;
    letter-spacing: .3px;
}
.form-group input,
.form-group select,
.form-group textarea {
    width: 100%; padding: 8px 12px;
    border: 1px solid var(--gray-light); border-radius: var(--radius);
    font-size: 13px; font-family: var(--font); color: var(--dark);
    outline: none; transition: border-color .15s;
    background: var(--white);
}
.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus { border-color: var(--primary); }
.form-group textarea { resize: vertical; min-height: 80px; line-height: 1.5; }
.input-readonly { background: var(--gray-lighter) !important; color: var(--gray) !important; }
.form-hint { font-size: 11px; color: #9ca3af; margin-top: 2px; display: block; }
.form-divider { border: none; border-top: 1px solid var(--gray-light); margin: 18px 0; }
.form-row { display: flex; gap: 12px; }
.form-row .form-group { flex: 1; }

.form-actions { display: flex; gap: 10px; margin-top: 18px; }
.btn-primary {
    display: flex; align-items: center; gap: 6px;
    padding: 9px 18px; border-radius: var(--radius);
    background: var(--primary); color: #fff; border: none;
    font-size: 13px; font-weight: 600; cursor: pointer;
    font-family: var(--font); transition: background .15s;
}
.btn-primary:hover { background: var(--primary-hover); }
.btn-sm { padding: 6px 12px; font-size: 12px; }
.btn-secondary {
    padding: 9px 18px; border-radius: var(--radius);
    background: var(--white); color: var(--dark);
    border: 1px solid var(--gray-light);
    font-size: 13px; font-weight: 600; cursor: pointer;
    font-family: var(--font); transition: all .15s;
}
.btn-secondary:hover { border-color: var(--primary); color: var(--primary); }

.form-status {
    margin-top: 12px; font-size: 13px; font-weight: 500; min-height: 20px;
}
.form-status.status-ok { color: #059669; }
.form-status.status-err { color: #dc2626; }

/* Recipient pills */
.recipient-pills {
    display: flex; flex-wrap: wrap; gap: 6px;
    padding: 8px; border: 1px solid var(--gray-light); border-radius: var(--radius);
    min-height: 36px; background: var(--white);
}
.recipient-pill {
    display: inline-flex; align-items: center; gap: 4px;
    padding: 3px 10px; border-radius: 14px;
    background: var(--primary-light); color: var(--primary-dark);
    font-size: 12px; font-weight: 500;
}
.pill-remove {
    display: inline-flex; align-items: center; justify-content: center;
    width: 16px; height: 16px; border: none; background: none;
    color: var(--primary-dark); cursor: pointer; font-size: 14px;
    border-radius: 50%; transition: background .15s;
}
.pill-remove:hover { background: rgba(0,89,255,.10); }

.no-email-warning {
    font-size: 12px; color: #b45309; background: #fef3c7;
    padding: 6px 10px; border-radius: var(--radius); margin-top: 6px;
}

.cc-toggle-row { margin-bottom: 10px; }
.cc-toggle {
    background: none; border: none; color: var(--primary);
    font-size: 12px; font-weight: 600; cursor: pointer;
    font-family: var(--font); padding: 0;
}
.cc-toggle:hover { text-decoration: underline; }

.merge-hint { font-weight: 400; font-size: 10px; color: #9ca3af; text-transform: none; letter-spacing: 0; }
.template-row { display: flex; gap: 8px; align-items: center; }
.template-row select { flex: 1; }
.btn-ai-draft {
    display: inline-flex; align-items: center; gap: 4px;
    padding: 7px 14px; border: 1px solid var(--primary);
    background: var(--primary-light); color: var(--primary-dark);
    border-radius: 6px; font-size: 12px; font-weight: 600;
    cursor: pointer; white-space: nowrap; transition: all 0.15s;
}
.btn-ai-draft:hover { background: var(--primary); color: white; }
.btn-ai-draft:disabled { opacity: 0.6; cursor: wait; }
.btn-personalize {
    display: inline-flex; align-items: center; gap: 4px;
    padding: 7px 14px; border: 1px solid #7c3aed;
    background: #ede9fe; color: #5b21b6;
    border-radius: 6px; font-size: 12px; font-weight: 600;
    cursor: pointer; white-space: nowrap; transition: all 0.15s;
}
.btn-personalize:hover { background: #7c3aed; color: white; }
.btn-personalize:disabled { opacity: 0.6; cursor: wait; }
.personalize-hint {
    font-size: 11px; color: #9ca3af; font-style: italic;
    margin-top: 4px; padding: 0 2px;
}
.status-ok { color: var(--primary-dark); }
.status-err { color: #dc2626; }

/* Preview */
.preview-section { margin-top: 14px; }
.preview-header { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }
.preview-header label { font-size: 12px; font-weight: 600; color: var(--gray); margin: 0; }
.preview-header select {
    padding: 4px 8px; border: 1px solid var(--gray-light);
    border-radius: var(--radius); font-size: 12px; font-family: var(--font);
}
.preview-rendered {
    padding: 14px; border: 1px solid var(--gray-light);
    border-radius: var(--radius); background: var(--gray-lighter);
    font-size: 13px; line-height: 1.6; color: var(--dark);
    max-height: 250px; overflow-y: auto;
}

/* Composer actions */
.composer-actions {
    display: flex; gap: 10px; margin-top: 18px; align-items: center;
}
.composer-actions .btn-primary { margin-left: auto; }

/* Progress */
.composer-progress { margin-top: 14px; }
.progress-bar {
    height: 6px; background: var(--gray-lighter);
    border-radius: 3px; overflow: hidden;
}
.progress-fill {
    height: 100%; background: var(--primary);
    border-radius: 3px; transition: width .3s ease;
}
.progress-text { font-size: 12px; color: var(--gray); margin-top: 4px; }

/* Sent emails */
.sent-emails-view { padding: 24px 28px; }
.btn-back {
    display: flex; align-items: center; gap: 4px;
    background: none; border: 1px solid var(--gray-light);
    border-radius: var(--radius); padding: 6px 12px;
    font-size: 12px; font-weight: 600; color: var(--dark);
    cursor: pointer; font-family: var(--font); transition: all .15s;
}
.btn-back:hover { border-color: var(--primary); color: var(--primary); }

.email-status {
    display: inline-block; font-size: 10px; font-weight: 700;
    padding: 2px 8px; border-radius: 4px; text-transform: uppercase;
}
.status-sent { background: var(--green-bg); color: var(--green-dark); }
.status-failed { background: #fee2e2; color: #991b1b; }
.cell-error { font-size: 11px; color: #991b1b; max-width: 200px; }

/* ============================================================
   ATS Styles
   ============================================================ */
.btn-sm { padding: 6px 12px !important; font-size: 12px !important; }

/* Save as Job button */
.btn-save-job {
    display: flex; align-items: center; gap: 6px;
    background: var(--primary); color: #fff; border: none;
    border-radius: var(--radius); padding: 8px 14px;
    font-size: 12px; font-weight: 600; cursor: pointer;
    font-family: var(--font); transition: background .15s;
}
.btn-save-job:hover { background: var(--primary-hover); }

/* Filter select */
.filter-select {
    padding: 6px 10px; border: 1px solid var(--gray-light);
    border-radius: var(--radius); font-size: 12px;
    font-family: var(--font); color: var(--dark);
    background: var(--white); outline: none;
}
.filter-select:focus { border-color: var(--primary); }

/* ATS Views */
.ats-view { padding: 24px 28px 40px; }

/* Job Status Badges */
.job-status-badge {
    display: inline-block; font-size: 10px; font-weight: 700;
    padding: 2px 8px; border-radius: 4px; text-transform: uppercase;
}
.status-active { background: var(--green-bg); color: var(--green-dark); }
.status-hold { background: #fef3c7; color: #92400e; }
.status-filled { background: var(--blue-tier-bg); color: var(--blue-tier-dark); }
.status-closed { background: var(--gray-lighter); color: var(--gray); }

/* Employer Info */
.employer-info {
    background: var(--white); border: 1px solid var(--gray-light);
    border-radius: var(--radius); padding: 16px;
    display: flex; flex-direction: column; gap: 8px; font-size: 13px;
}
.employer-info strong { color: var(--gray); font-size: 11px; text-transform: uppercase; letter-spacing: .3px; }

/* ============================================================
   DASHBOARD VIEW
   ============================================================ */
.dashboard-content {
    padding: 24px 28px 40px;
    max-width: 1600px; margin: 0 auto;
}
.section-title {
    font-size: 18px; font-weight: 700; color: var(--dark);
}

/* Metric Cards */
.dashboard-metrics {
    display: grid; grid-template-columns: repeat(4, 1fr);
    gap: 16px; margin-bottom: 28px;
}
.metric-card {
    background: var(--white);
    border: 1px solid var(--gray-light);
    border-radius: var(--radius-lg);
    padding: 20px;
    display: flex; align-items: center; gap: 16px;
    transition: box-shadow .15s;
}
.metric-card:hover { box-shadow: var(--shadow-md); }
.metric-icon {
    width: 48px; height: 48px; border-radius: 12px;
    display: flex; align-items: center; justify-content: center;
    flex-shrink: 0;
}
.metric-icon-jobs { background: #E0F1FF; color: #0059FF; }
.metric-icon-pipeline { background: #E0F1FF; color: #0059FF; }
.metric-icon-interviews { background: #fef3c7; color: #92400e; }
.metric-icon-placements { background: #E0F1FF; color: #0059FF; }
.metric-icon-value { background: #E0F1FF; color: #0059FF; }
.metric-value {
    font-size: 28px; font-weight: 800; color: var(--dark); line-height: 1;
}
.metric-label {
    font-size: 12px; font-weight: 600; color: var(--gray);
    text-transform: uppercase; letter-spacing: .3px; margin-top: 2px;
}

/* Dashboard quick action buttons */
.dashboard-actions {
    display: flex; gap: 10px; margin-bottom: 20px;
}
.dash-action-btn {
    display: inline-flex; align-items: center; gap: 6px;
    padding: 8px 16px; border-radius: var(--radius);
    border: 1px solid var(--gray-light); background: var(--white);
    font-size: 13px; font-weight: 500; color: var(--dark);
    cursor: pointer; transition: all .15s;
}
.dash-action-btn:hover {
    border-color: var(--primary); color: var(--primary-dark);
    background: var(--primary-light);
}
.dash-action-btn svg { opacity: .6; }
.dash-action-btn:hover svg { opacity: 1; }
.dash-action-primary {
    background: var(--primary); color: white; border-color: var(--primary);
}
.dash-action-primary svg { opacity: 1; }
.dash-action-primary:hover {
    background: var(--primary-hover); border-color: var(--primary-hover); color: white;
}

/* Dashboard sections */
.dashboard-section {
    background: var(--white);
    border: 1px solid var(--gray-light);
    border-radius: var(--radius-lg);
    padding: 20px;
    margin-bottom: 20px;
}
.dashboard-section .pipeline-header { margin-bottom: 16px; }

/* ============================================================
   Pipeline Board (Kanban)
   ============================================================ */
.pipeline-header {
    display: flex; align-items: center; justify-content: space-between;
    margin-bottom: 16px; flex-wrap: wrap; gap: 12px;
}
.pipeline-header-left { display: flex; align-items: center; gap: 10px; }
.pipeline-controls { display: flex; align-items: center; gap: 8px; flex-wrap: wrap; }

.kanban-board {
    display: flex; gap: 12px;
    overflow-x: auto; overflow-y: hidden;
    padding-bottom: 20px;
    min-height: 400px;
}
.kanban-column {
    min-width: 240px; max-width: 280px; width: 260px;
    flex-shrink: 0;
    background: var(--gray-lighter);
    border-radius: var(--radius);
    display: flex; flex-direction: column;
    max-height: calc(100vh - 320px);
}
.kanban-col-header {
    padding: 10px 12px;
    display: flex; align-items: center; justify-content: space-between;
    border-radius: var(--radius) var(--radius) 0 0;
    border-top: 3px solid transparent;
    position: sticky; top: 0;
    background: var(--gray-lighter); z-index: 1;
}
.kanban-theme-blue .kanban-col-header, .kanban-col-header.kanban-theme-blue { border-top-color: #0059FF; }
.kanban-theme-green .kanban-col-header, .kanban-col-header.kanban-theme-green { border-top-color: #22c55e; }
.kanban-theme-gold .kanban-col-header, .kanban-col-header.kanban-theme-gold { border-top-color: #f59e0b; }
.kanban-theme-red .kanban-col-header, .kanban-col-header.kanban-theme-red { border-top-color: #ef4444; }
.kanban-theme-yellow .kanban-col-header, .kanban-col-header.kanban-theme-yellow { border-top-color: #eab308; }

.kanban-col-title {
    font-size: 12px; font-weight: 700; text-transform: uppercase;
    letter-spacing: .5px; color: var(--dark);
}
.kanban-col-count {
    font-size: 11px; font-weight: 700; color: var(--gray);
    background: var(--white); padding: 1px 8px;
    border-radius: 10px; min-width: 20px; text-align: center;
}
.kanban-col-body {
    flex: 1; overflow-y: auto;
    padding: 8px; display: flex; flex-direction: column; gap: 8px;
    min-height: 60px;
}

/* Kanban Card */
.kanban-card {
    background: var(--white);
    border: 1px solid var(--gray-light);
    border-radius: var(--radius);
    padding: 10px 12px;
    cursor: grab; position: relative;
    transition: box-shadow .15s, border-color .15s;
}
.kanban-card:hover { box-shadow: var(--shadow-md); border-color: var(--primary); }
.kanban-card:active { cursor: grabbing; }

.kanban-card-name { font-size: 13px; font-weight: 600; color: var(--dark); margin-bottom: 2px; }
.kanban-card-firm { font-size: 11px; color: var(--gray); margin-bottom: 2px; }
.kanban-card-job {
    font-size: 10px; color: var(--primary-dark); font-weight: 500;
    margin-bottom: 4px;
    padding: 2px 6px; background: var(--primary-light);
    border-radius: 4px; display: inline-block;
}
.kanban-attorney-link, .kanban-job-link {
    color: inherit; text-decoration: none; cursor: pointer;
}
.kanban-attorney-link:hover { text-decoration: underline; color: var(--primary-dark); }
.kanban-job-link { color: inherit; }
.kanban-job-link:hover { text-decoration: underline; }
.kanban-card-fee {
    font-size: 12px; font-weight: 700; color: #0059FF;
    margin-bottom: 4px;
}
.kanban-card-meta {
    display: flex; align-items: center; gap: 8px;
    font-size: 10px; color: #9ca3af;
}
.kanban-card-notes { cursor: help; }
.kanban-card-time { font-style: italic; }

/* Kanban card menu */
.kanban-card-menu { position: absolute; top: 6px; right: 6px; }
.kanban-menu-btn {
    width: 24px; height: 24px; border: none; background: none;
    cursor: pointer; font-size: 16px; color: var(--gray);
    border-radius: 4px; display: flex; align-items: center; justify-content: center;
    opacity: 0; transition: opacity .15s, background .15s;
}
.kanban-card:hover .kanban-menu-btn { opacity: 1; }
.kanban-menu-btn:hover { background: var(--gray-lighter); }
.kanban-menu-dropdown {
    display: none; position: absolute; right: 0; top: 100%;
    background: var(--white); border: 1px solid var(--gray-light);
    border-radius: var(--radius); box-shadow: var(--shadow-md);
    min-width: 140px; z-index: 50; overflow: hidden;
}
.kanban-menu-dropdown.open { display: block; }
.kanban-menu-item {
    display: block; width: 100%;
    padding: 8px 14px; border: none; background: none;
    font-size: 12px; font-family: var(--font); color: var(--dark);
    cursor: pointer; text-align: left;
}
.kanban-menu-item:hover { background: var(--gray-lighter); }
.kanban-menu-danger { color: #dc2626; }
.kanban-menu-danger:hover { background: #fee2e2; }

/* Drag states */
.kanban-ghost { opacity: .4; }
.kanban-chosen { box-shadow: 0 4px 16px rgba(0,89,255,.15); border-color: var(--primary); }
.kanban-drag { opacity: .8; }

/* Add candidate button */
.kanban-add-btn {
    margin: 4px 8px 8px;
    padding: 6px; border: 1px dashed var(--gray-light);
    border-radius: var(--radius); background: none;
    font-size: 11px; color: var(--gray); cursor: pointer;
    font-family: var(--font); transition: all .15s;
}
.kanban-add-btn:hover { border-color: var(--primary); color: var(--primary); background: var(--primary-light); }

/* Pipeline empty */
.pipeline-empty {
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    text-align: center; gap: 12px; padding: 60px 40px;
    color: var(--gray);
}
.pipeline-empty p { font-size: 16px; font-weight: 600; color: #9ca3af; }
.pipeline-empty-sub { font-size: 13px !important; font-weight: 400 !important; }

/* Activity Feed */
.activity-item {
    display: flex; align-items: flex-start; gap: 12px;
    padding: 12px 0; border-bottom: 1px solid var(--gray-lighter);
    font-size: 13px; line-height: 1.5;
}
.activity-item:last-child { border-bottom: none; }
.activity-icon { flex-shrink: 0; margin-top: 2px; }
.activity-text { flex: 1; color: var(--dark); }
.activity-text strong { font-weight: 600; }
.activity-text em { color: var(--gray); font-style: italic; }
.activity-time { flex-shrink: 0; font-size: 11px; color: #9ca3af; white-space: nowrap; }

/* Pipeline Badge (on search results) */
.pipeline-badge {
    display: inline-block; font-size: 9px; font-weight: 700;
    padding: 1px 6px; border-radius: 8px;
    background: #fef3c7; color: #92400e;
    margin-left: 6px; vertical-align: middle;
    text-transform: uppercase; letter-spacing: .3px;
}

/* ============================================================
   Toast Notifications
   ============================================================ */
.toast-container {
    position: fixed; bottom: 24px; right: 24px;
    z-index: 1000; display: flex; flex-direction: column;
    gap: 8px; pointer-events: none;
}
.toast {
    padding: 12px 20px; border-radius: var(--radius);
    font-size: 13px; font-weight: 500; color: #fff;
    box-shadow: 0 4px 16px rgba(0,0,0,.2);
    transform: translateX(120%); transition: transform .3s ease;
    pointer-events: auto; max-width: 400px;
}
.toast.show { transform: translateX(0); }
.toast-success { background: #059669; }
.toast-error { background: #dc2626; }
.toast-info { background: var(--primary); }

/* ============================================================
   Candidate Search Modal
   ============================================================ */
.candidate-search-list {
    max-height: 300px; overflow-y: auto;
    border: 1px solid var(--gray-light); border-radius: var(--radius);
    margin-bottom: 12px;
}
.candidate-search-item {
    display: flex; align-items: center; gap: 10px;
    padding: 10px 12px; cursor: pointer;
    border-bottom: 1px solid var(--gray-lighter);
    transition: background .1s;
}
.candidate-search-item:last-child { border-bottom: none; }
.candidate-search-item:hover { background: var(--gray-lighter); }
.candidate-search-item input { flex-shrink: 0; cursor: pointer; }
.candidate-search-name { font-weight: 600; font-size: 13px; }
.candidate-search-detail { font-size: 11px; color: var(--gray); }

/* ============================================================
   FIRMS VIEW
   ============================================================ */
.firms-content { padding: 24px 28px 40px; max-width: 1600px; margin: 0 auto; }
.firms-header {
    display: flex; align-items: center; justify-content: space-between;
    margin-bottom: 20px; flex-wrap: wrap; gap: 12px;
}
.firms-header-left { display: flex; align-items: center; gap: 10px; }
.firms-header-right { display: flex; align-items: center; gap: 8px; }
.firms-count {
    font-size: 13px; color: var(--gray); font-weight: 500;
}
.firms-search { width: 320px; }

.firms-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 16px;
}
.firm-card {
    background: var(--white);
    border: 1px solid var(--gray-light);
    border-radius: var(--radius-lg);
    padding: 20px;
    cursor: pointer;
    transition: all .15s;
}
.firm-card:hover {
    border-color: var(--primary);
    box-shadow: var(--shadow-md);
}
.firm-card-name {
    font-size: 15px; font-weight: 700; color: var(--dark);
    margin-bottom: 6px;
}
.firm-card-meta {
    font-size: 12px; color: var(--gray); line-height: 1.6;
}
.firm-card-stats {
    display: flex; gap: 12px; margin-top: 10px;
    flex-wrap: wrap;
}
.firm-card-stat {
    font-size: 11px; font-weight: 600;
    padding: 3px 8px; border-radius: 4px;
    background: var(--gray-lighter); color: var(--gray);
}
.firm-card-areas {
    display: flex; flex-wrap: wrap; gap: 4px; margin-top: 8px;
}
.firm-area-pill {
    display: inline-block; font-size: 10px; font-weight: 500;
    padding: 2px 8px; border-radius: 4px;
    background: var(--primary-light); color: var(--primary-dark);
}

/* Firm Detail */
.firm-detail { margin-top: 20px; }
.firm-detail-header {
    display: flex; align-items: center; gap: 16px;
    padding-bottom: 20px; border-bottom: 1px solid var(--gray-light);
    margin-bottom: 20px;
}
.firm-detail-name { font-size: 22px; font-weight: 800; color: var(--dark); }
.firm-detail-website {
    font-size: 13px; color: var(--primary-dark);
    text-decoration: none;
}
.firm-detail-website:hover { text-decoration: underline; }
.firm-detail-meta {
    font-size: 13px; color: var(--gray); margin-top: 4px;
}
.firm-detail-meta a { color: var(--primary-dark); text-decoration: none; }
.firm-detail-meta a:hover { text-decoration: underline; }

/* Firm Detail Tabs */
.firm-tabs {
    display: flex; gap: 0; border-bottom: 2px solid var(--gray-light);
    margin-bottom: 20px;
}
.firm-tab {
    padding: 10px 20px; font-size: 13px; font-weight: 600;
    background: none; border: none; cursor: pointer;
    color: var(--gray); border-bottom: 2px solid transparent;
    margin-bottom: -2px; transition: all .15s;
}
.firm-tab:hover { color: var(--dark); }
.firm-tab.active {
    color: var(--primary-dark); border-bottom-color: var(--primary);
}
.firm-panel { display: none; }
.firm-panel.active { display: block; }

/* Firm Overview Grid */
.firm-overview-grid {
    display: grid; grid-template-columns: 1fr 1fr; gap: 24px;
}
.firm-overview-section h3 {
    font-size: 14px; font-weight: 700; color: var(--dark);
    margin-bottom: 12px;
}
.firm-chart { max-width: 100%; }
.firm-offices { display: flex; flex-wrap: wrap; gap: 6px; }
.firm-stats-grid {
    display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;
}
.firm-stat {
    text-align: center; padding: 12px;
    background: var(--gray-lighter); border-radius: var(--radius);
}
.firm-stat-value { font-size: 20px; font-weight: 800; color: var(--primary-dark); }
.firm-stat-label { font-size: 11px; color: var(--gray); margin-top: 2px; }

/* Firm Notes */
.firm-note {
    padding: 10px 12px; margin-bottom: 8px;
    background: var(--gray-lighter); border-radius: var(--radius);
}
.firm-note-text { font-size: 13px; color: var(--dark); line-height: 1.5; }
.firm-note-meta {
    font-size: 11px; color: var(--gray); margin-top: 6px;
    display: flex; align-items: center; gap: 8px;
}
.firm-note-delete {
    margin-left: auto; background: none; border: none;
    color: var(--gray); cursor: pointer; font-size: 14px;
}
.firm-note-delete:hover { color: #dc2626; }
.firm-note-form {
    margin-top: 12px; display: flex; gap: 8px; align-items: flex-start;
}
.firm-note-form textarea {
    flex: 1; padding: 8px 10px; border: 1px solid var(--gray-light);
    border-radius: var(--radius); font-size: 13px; font-family: inherit;
    resize: vertical;
}

/* Firm Contacts */
.firm-contact {
    padding: 10px 12px; margin-bottom: 8px;
    background: var(--gray-lighter); border-radius: var(--radius);
}
.firm-contact-name { font-size: 13px; font-weight: 600; color: var(--dark); }
.firm-contact-title { font-weight: 400; color: var(--gray); }
.firm-contact-info {
    font-size: 12px; color: var(--gray); margin-top: 4px;
    display: flex; gap: 12px; align-items: center;
}
.firm-contact-delete {
    margin-left: auto; background: none; border: none;
    color: var(--gray); cursor: pointer; font-size: 14px;
}
.firm-contact-delete:hover { color: #dc2626; }
.firm-contact-form {
    margin-top: 12px; display: flex; flex-wrap: wrap; gap: 6px; align-items: center;
}
.firm-contact-input {
    padding: 6px 10px; border: 1px solid var(--gray-light);
    border-radius: var(--radius); font-size: 12px; flex: 1; min-width: 100px;
}
.firm-back {
    margin-bottom: 16px;
}

/* Firm Activity Badge */
.firm-activity-badge {
    display: inline-block; font-size: 10px; font-weight: 600;
    padding: 2px 8px; border-radius: 4px; margin-left: 8px;
    background: var(--green-bg); color: var(--green-dark);
    vertical-align: middle;
}

/* AI Search Toggle Button */
.btn-ai-search {
    display: flex; align-items: center; gap: 4px;
    padding: 6px 12px; border-radius: var(--radius);
    border: 1px solid var(--gray-light); background: var(--white);
    font-size: 12px; font-weight: 600; color: var(--gray);
    cursor: pointer; transition: all .15s;
}
.btn-ai-search:hover { border-color: var(--primary); color: var(--primary); }
.btn-ai-search.active {
    background: var(--primary); color: #fff;
    border-color: var(--primary);
}

/* Pie Chart */
.pie-chart-container {
    display: flex; align-items: flex-start; gap: 20px;
    flex-wrap: wrap;
}
.pie-chart {
    width: 180px; height: 180px; border-radius: 50%;
    flex-shrink: 0;
}
.pie-legend {
    display: flex; flex-direction: column; gap: 4px;
    max-height: 220px; overflow-y: auto; flex: 1; min-width: 160px;
}
.pie-legend-item {
    display: flex; align-items: center; gap: 6px; font-size: 12px;
}
.pie-legend-swatch {
    width: 10px; height: 10px; border-radius: 2px; flex-shrink: 0;
}
.pie-legend-name {
    flex: 1; color: var(--dark); white-space: nowrap;
    overflow: hidden; text-overflow: ellipsis;
}
.pie-legend-count {
    color: var(--gray); font-size: 11px; white-space: nowrap;
}

/* Firm Job Rows */
.firm-jobs-list { display: flex; flex-direction: column; gap: 8px; }
.firm-job-row {
    padding: 12px 14px; background: var(--gray-lighter);
    border-radius: var(--radius); border: 1px solid var(--gray-light);
}
.firm-job-title {
    font-size: 13px; font-weight: 600; color: var(--dark);
    margin-bottom: 4px;
}
.firm-job-meta {
    font-size: 12px; color: var(--gray);
    display: flex; flex-wrap: wrap; gap: 8px; align-items: center;
}
.firm-job-status {
    display: inline-block; font-size: 10px; font-weight: 600;
    padding: 2px 8px; border-radius: 4px;
    background: var(--gray-lighter); color: var(--gray);
}
.firm-job-status-open { background: var(--green-bg); color: var(--green-dark); }
.firm-job-status-closed { background: #fee2e2; color: #991b1b; }
.firm-job-status-on-hold { background: var(--orange-bg); color: var(--orange-dark); }
.firm-job-status-filled { background: var(--blue-tier-bg); color: var(--blue-tier-dark); }

/* Clickable entity links in firm detail */
.firm-entity-link {
    color: var(--primary-dark); text-decoration: none; cursor: pointer;
    font-weight: inherit;
}
.firm-entity-link:hover { text-decoration: underline; color: var(--primary-hover); }

/* Firm Pipeline Rows */
.firm-pipeline-list { display: flex; flex-direction: column; gap: 8px; }
.firm-pipeline-row {
    padding: 12px 14px; background: var(--gray-lighter);
    border-radius: var(--radius); border: 1px solid var(--gray-light);
}
.firm-pipeline-name {
    font-size: 13px; font-weight: 600; color: var(--dark);
    margin-bottom: 4px;
}
.firm-pipeline-meta {
    font-size: 12px; color: var(--gray);
    display: flex; flex-wrap: wrap; gap: 8px; align-items: center;
}
.firm-pipeline-firm { font-style: italic; }
.firm-pipeline-stage {
    display: inline-block; font-size: 10px; font-weight: 600;
    padding: 2px 8px; border-radius: 4px;
    background: var(--gray-lighter); color: var(--gray);
}
.firm-pipeline-stage-identified { background: #e0e7ff; color: #3730a3; }
.firm-pipeline-stage-contacted { background: #E0F1FF; color: #0059FF; }
.firm-pipeline-stage-submitted { background: var(--green-bg); color: var(--green-dark); }
.firm-pipeline-stage-interviewing { background: var(--orange-bg); color: var(--orange-dark); }
.firm-pipeline-stage-offered { background: #fef3c7; color: #92400e; }
.firm-pipeline-stage-placed { background: #d1fae5; color: #065f46; }
.firm-pipeline-stage-rejected { background: #fee2e2; color: #991b1b; }
.firm-pipeline-stage-withdrawn { background: #f3f4f6; color: #6b7280; }

/* Clickable firm names in results */
a.firm-link {
    color: var(--primary-dark); text-decoration: none; cursor: pointer;
}
a.firm-link:hover { text-decoration: underline; }

/* ============================================================
   FIRMS CRM – My Clients + Database Table (redesign)
   ============================================================ */
.firms-section { margin-bottom: 28px; }
.firms-section-hd {
    display: flex; align-items: center; justify-content: space-between;
    flex-wrap: wrap; gap: 10px; margin-bottom: 14px;
}
.firms-section-hd-left { display: flex; align-items: center; gap: 10px; }
.firms-section-hd-right { display: flex; align-items: center; gap: 8px; }
.firms-section-title { font-size: 16px; font-weight: 700; color: var(--dark); margin: 0; }
.firms-badge {
    display: inline-flex; align-items: center;
    font-size: 11px; font-weight: 600; color: var(--gray);
    background: var(--gray-lighter); padding: 2px 8px; border-radius: 10px;
}
.firms-sort-sel {
    font-size: 12px; padding: 5px 10px; border: 1px solid var(--gray-light);
    border-radius: var(--radius); color: var(--dark); background: var(--white); cursor: pointer;
}
.firms-loading { padding: 20px; color: var(--gray); font-size: 13px; text-align: center; }

/* My Client Rows */
.my-client-row {
    display: flex; flex-wrap: wrap; align-items: flex-start; gap: 12px;
    padding: 14px 16px; background: var(--white);
    border: 1px solid var(--gray-light); border-radius: var(--radius);
    margin-bottom: 8px; transition: box-shadow .15s, border-color .15s; position: relative;
}
.my-client-row:hover { border-color: var(--primary); box-shadow: var(--shadow-sm); }
.my-client-row.is-pinned { border-left: 3px solid #f59e0b; }
.my-client-row-pin {
    flex-shrink: 0; background: none; border: none; cursor: pointer;
    color: var(--gray-light); font-size: 16px; padding: 0; line-height: 1;
    transition: color .15s; margin-top: 2px;
}
.my-client-row-pin.pinned { color: #f59e0b; }
.my-client-row-pin:hover { color: #f59e0b; }
.my-client-row-main { flex: 1; min-width: 200px; }
.my-client-row-name {
    font-size: 14px; font-weight: 700; color: var(--dark);
    cursor: pointer; display: flex; align-items: center; gap: 8px; flex-wrap: wrap;
}
.my-client-row-name:hover { color: var(--primary-dark); }
.my-client-row-meta { font-size: 12px; color: var(--gray); margin-top: 3px; line-height: 1.5; }
.my-client-row-pipeline { font-size: 12px; color: var(--gray); margin-top: 2px; }
.my-client-row-pipeline a { color: var(--primary-dark); text-decoration: none; font-weight: 500; }
.my-client-row-pipeline a:hover { text-decoration: underline; }
.my-client-row-followup {
    font-size: 11px; color: #92400e; background: #fef3c7;
    border-radius: 4px; padding: 2px 8px; margin-top: 4px; display: inline-block;
}
.my-client-row-followup.overdue { color: #991b1b; background: #fee2e2; }
.my-client-row-stats { display: flex; gap: 14px; flex-shrink: 0; align-self: center; }
.my-client-stat { text-align: center; min-width: 52px; }
.my-client-stat-val { font-size: 18px; font-weight: 800; color: var(--primary-dark); line-height: 1; }
.my-client-stat-val.zero { color: var(--gray-light); }
.my-client-stat-label { font-size: 10px; color: var(--gray); margin-top: 2px; }
.my-client-row-actions { display: flex; gap: 6px; flex-shrink: 0; align-self: center; }
.mcr-btn {
    font-size: 12px; font-weight: 500; padding: 5px 10px;
    border-radius: var(--radius); cursor: pointer; border: 1px solid var(--gray-light);
    background: var(--white); color: var(--dark); transition: all .12s; white-space: nowrap;
}
.mcr-btn:hover { border-color: var(--primary); color: var(--primary-dark); background: var(--blue-bg); }
.mcr-btn-primary { background: var(--primary); color: white; border-color: var(--primary); }
.mcr-btn-primary:hover { background: var(--primary-hover); border-color: var(--primary-hover); color: white; }
.mcr-dots {
    font-size: 16px; font-weight: 700; padding: 4px 8px;
    border-radius: var(--radius); cursor: pointer; border: 1px solid var(--gray-light);
    background: var(--white); color: var(--gray); transition: all .12s; line-height: 1.2;
    position: relative;
}
.mcr-dots:hover { border-color: var(--primary); color: var(--primary-dark); }
.my-clients-empty {
    padding: 32px; text-align: center; background: var(--gray-lighter);
    border-radius: var(--radius); border: 1px dashed var(--gray-light);
}
.my-clients-empty-title { font-size: 14px; font-weight: 600; color: var(--dark); margin-bottom: 6px; }
.my-clients-empty-sub { font-size: 13px; color: var(--gray); margin-bottom: 14px; }

/* Recently Viewed Bar */
.recently-viewed-bar {
    padding: 8px 14px; background: var(--gray-lighter);
    border: 1px solid var(--gray-light); border-radius: var(--radius);
    margin-bottom: 16px; display: flex; align-items: center; flex-wrap: wrap; gap: 4px;
    font-size: 12px;
}
.rv-label { font-weight: 600; color: var(--gray); margin-right: 6px; white-space: nowrap; }
.rv-link {
    color: var(--primary-dark); text-decoration: none; cursor: pointer;
    padding: 1px 2px; border-radius: 3px;
}
.rv-link:hover { background: var(--blue-bg); text-decoration: underline; }
.rv-sep { color: var(--gray-light); margin: 0 2px; }

/* Firm DB search bar */
.firms-search-row { margin-bottom: 10px; }
.firms-search-wrap {
    position: relative; display: flex; align-items: center;
    background: var(--white); border: 1px solid var(--gray-light);
    border-radius: var(--radius); transition: border-color .15s;
}
.firms-search-wrap:focus-within { border-color: var(--primary); }
.firms-search-icon {
    position: absolute; left: 12px; color: var(--gray); pointer-events: none;
}
.firms-search-input {
    width: 100%; padding: 9px 36px; border: none; outline: none;
    font-size: 13px; font-family: inherit; color: var(--dark); background: transparent;
}
.firms-search-clear {
    position: absolute; right: 10px; background: none; border: none;
    color: var(--gray); cursor: pointer; font-size: 12px; padding: 2px 4px;
}
.firms-search-clear:hover { color: var(--dark); }

/* Filter Bar */
.firms-filter-bar {
    display: flex; flex-wrap: wrap; gap: 8px; align-items: flex-end; margin-bottom: 12px;
}
.firms-filter-group { display: flex; flex-direction: column; gap: 3px; }
.firms-filter-label {
    font-size: 10px; font-weight: 600; color: var(--gray);
    text-transform: uppercase; letter-spacing: .04em;
}
.firms-filter-sel {
    font-size: 12px; padding: 5px 10px; border: 1px solid var(--gray-light);
    border-radius: var(--radius); background: var(--white); color: var(--dark);
    cursor: pointer; min-width: 120px;
}
.firms-filter-sel:focus { outline: none; border-color: var(--primary); }
.firms-filter-reset {
    font-size: 12px; padding: 5px 10px; border: 1px solid #fca5a5;
    border-radius: var(--radius); background: #fef2f2; color: #dc2626;
    cursor: pointer; align-self: flex-end;
}
.firms-filter-reset:hover { background: #fee2e2; }

/* Firms Table */
.firms-table-wrap {
    border: 1px solid var(--gray-light); border-radius: var(--radius);
    overflow: hidden; overflow-x: auto;
}
.firms-table { width: 100%; border-collapse: collapse; font-size: 13px; min-width: 860px; }
.firms-th {
    padding: 10px 12px; background: var(--gray-lighter); color: var(--gray);
    font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: .04em;
    text-align: left; white-space: nowrap; border-bottom: 1px solid var(--gray-light);
    user-select: none;
}
.firms-th:not(.firms-th-nosort) { cursor: pointer; }
.firms-th:not(.firms-th-nosort):hover { background: #eef2f7; color: var(--dark); }
.firms-th.sort-asc .sort-arrow::after { content: ' ↑'; }
.firms-th.sort-desc .sort-arrow::after { content: ' ↓'; }
.firms-table tbody tr { border-bottom: 1px solid var(--gray-lighter); transition: background .1s; }
.firms-table tbody tr:last-child { border-bottom: none; }
.firms-table tbody tr:hover { background: var(--blue-bg); }
.firms-td { padding: 10px 12px; vertical-align: middle; color: var(--dark); }
.firms-td-name { font-weight: 600; cursor: pointer; color: var(--dark); white-space: nowrap; }
.firms-td-name:hover { color: var(--primary-dark); text-decoration: underline; }
.firms-td-pinstar { color: #f59e0b; font-size: 12px; margin-right: 4px; }
.firms-td-num { text-align: right; color: var(--gray); }
.firms-td-num.has-data { color: var(--dark); font-weight: 600; }
.firms-td-num a { color: var(--primary-dark); text-decoration: none; font-weight: 600; }
.firms-td-num a:hover { text-decoration: underline; }
.firms-td-ppp { font-variant-numeric: tabular-nums; }
.firms-td-areas { font-size: 11px; color: var(--gray); line-height: 1.4; max-width: 160px; }
.firms-td-offices { font-size: 12px; color: var(--gray); }
.firms-td-actions { white-space: nowrap; }
.status-badge {
    display: inline-flex; align-items: center; gap: 4px;
    font-size: 10px; font-weight: 700; padding: 2px 8px; border-radius: 20px; white-space: nowrap;
}
.status-badge-active { background: #dcfce7; color: #15803d; }
.status-badge-prospect { background: #dbeafe; color: #1d4ed8; }
.status-badge-past { background: #fef3c7; color: #92400e; }
.status-badge-reference { background: var(--gray-lighter); color: var(--gray); }
.priority-dot {
    display: inline-block; width: 7px; height: 7px; border-radius: 50%; margin-right: 4px; vertical-align: middle;
}
.priority-dot-high { background: #ef4444; }
.priority-dot-normal { display: none; }
.priority-dot-low { background: #d1d5db; }
.ftbl-btn {
    font-size: 11px; padding: 4px 8px; border: 1px solid var(--gray-light);
    border-radius: 4px; background: var(--white); cursor: pointer; color: var(--dark); transition: all .12s;
}
.ftbl-btn:hover { border-color: var(--primary); color: var(--primary-dark); background: var(--blue-bg); }
.ftbl-dots {
    font-size: 14px; font-weight: 700; padding: 3px 7px; border: 1px solid var(--gray-light);
    border-radius: 4px; background: var(--white); cursor: pointer; color: var(--gray);
    transition: all .12s; margin-left: 4px;
}
.ftbl-dots:hover { border-color: var(--primary); color: var(--primary-dark); }
.firms-table-empty {
    padding: 32px; text-align: center; color: var(--gray); font-size: 13px;
    background: var(--gray-lighter); display: none;
}

/* Pagination */
.firms-pagination {
    display: flex; align-items: center; justify-content: space-between;
    padding: 10px 16px; border-top: 1px solid var(--gray-light);
    background: var(--white); font-size: 12px; flex-wrap: wrap; gap: 8px;
}
.firms-page-info { color: var(--gray); }
.firms-page-btns { display: flex; gap: 4px; }
.firms-page-btn {
    min-width: 30px; height: 28px; padding: 0 8px;
    border: 1px solid var(--gray-light); border-radius: 4px;
    background: var(--white); color: var(--dark); font-size: 12px;
    cursor: pointer; transition: all .12s; display: flex; align-items: center; justify-content: center;
}
.firms-page-btn:hover:not(:disabled) { border-color: var(--primary); color: var(--primary-dark); background: var(--blue-bg); }
.firms-page-btn.active { background: var(--primary); border-color: var(--primary); color: white; font-weight: 700; }
.firms-page-btn:disabled { opacity: .35; cursor: default; }

/* Firm Detail CRM header additions */
.firm-detail-crm {
    display: flex; flex-wrap: wrap; align-items: flex-end; gap: 10px;
    padding: 10px 0 14px; border-bottom: 1px solid var(--gray-light); margin-bottom: 14px;
}
.firm-crm-field { display: flex; flex-direction: column; gap: 3px; }
.firm-crm-label {
    font-size: 10px; font-weight: 600; color: var(--gray);
    text-transform: uppercase; letter-spacing: .04em;
}
.firm-crm-select, .firm-crm-input {
    font-size: 12px; padding: 5px 10px; border: 1px solid var(--gray-light);
    border-radius: var(--radius); color: var(--dark); background: var(--white);
    cursor: pointer; font-family: inherit;
}
.firm-crm-select:focus, .firm-crm-input:focus { outline: none; border-color: var(--primary); }
.firm-crm-save-btn {
    font-size: 12px; padding: 6px 12px; border-radius: var(--radius);
    background: var(--primary); color: white; border: none; cursor: pointer; transition: background .12s;
}
.firm-crm-save-btn:hover { background: var(--primary-hover); }
.firm-mark-active-btn {
    font-size: 12px; font-weight: 600; padding: 6px 14px; border-radius: var(--radius);
    background: #dcfce7; color: #15803d; border: 1px solid #bbf7d0; cursor: pointer; transition: all .12s;
}
.firm-mark-active-btn:hover { background: #bbf7d0; }

/* Relationship Timeline */
.relationship-timeline { display: flex; flex-direction: column; gap: 0; }
.rt-event {
    display: flex; gap: 12px; padding: 12px 0;
    border-bottom: 1px solid var(--gray-lighter);
}
.rt-event:last-child { border-bottom: none; }
.rt-icon {
    width: 28px; height: 28px; border-radius: 50%; background: var(--gray-lighter);
    display: flex; align-items: center; justify-content: center;
    font-size: 13px; flex-shrink: 0;
}
.rt-event-note .rt-icon { background: #e0f1ff; }
.rt-event-task .rt-icon { background: #dcfce7; }
.rt-event-job .rt-icon { background: #fef3c7; }
.rt-event-pipeline .rt-icon { background: #f3e8ff; }
.rt-body { flex: 1; min-width: 0; }
.rt-text { font-size: 13px; color: var(--dark); line-height: 1.4; }
.rt-meta { font-size: 11px; color: var(--gray); margin-top: 2px; }
.rt-status-pill {
    display: inline-block; font-size: 10px; font-weight: 600; padding: 1px 6px;
    border-radius: 4px; margin-left: 6px;
}
.rt-status-completed { background: #dcfce7; color: #15803d; }
.rt-status-pending { background: #fef3c7; color: #92400e; }

/* Dashboard follow-up alert */
.dash-followup-alert {
    display: flex; align-items: center; gap: 10px;
    padding: 10px 14px; background: #fffbeb; border: 1px solid #fde68a;
    border-radius: var(--radius); margin-bottom: 12px; cursor: pointer; transition: background .12s;
}
.dash-followup-alert:hover { background: #fef3c7; }
.dash-followup-icon { font-size: 16px; flex-shrink: 0; }
.dash-followup-text { font-size: 13px; color: #92400e; font-weight: 500; }
.dash-followup-link { color: #d97706; text-decoration: underline; font-weight: 600; }

/* Context dropdown menu */
.firms-ctx-menu {
    position: fixed; z-index: 9999; background: var(--white);
    border: 1px solid var(--gray-light); border-radius: var(--radius);
    box-shadow: var(--shadow-md); min-width: 160px; overflow: hidden;
}
.firms-ctx-item {
    display: block; width: 100%; padding: 8px 14px; text-align: left;
    font-size: 12px; color: var(--dark); background: none; border: none;
    cursor: pointer; transition: background .1s; white-space: nowrap;
}
.firms-ctx-item:hover { background: var(--gray-lighter); }
.firms-ctx-item.danger { color: #dc2626; }
.firms-ctx-item.danger:hover { background: #fef2f2; }
.firms-ctx-sep { border: none; border-top: 1px solid var(--gray-lighter); margin: 4px 0; }

/* Prompt toast for mark-active */
.firm-prompt-bar {
    position: fixed; bottom: 24px; left: 50%; transform: translateX(-50%);
    background: var(--dark); color: white; padding: 12px 20px;
    border-radius: var(--radius); box-shadow: var(--shadow-md);
    display: flex; align-items: center; gap: 12px; z-index: 500;
    font-size: 13px; max-width: 500px; width: calc(100% - 48px);
}
.firm-prompt-bar-text { flex: 1; }
.firm-prompt-bar-yes {
    padding: 5px 12px; background: #22c55e; color: white; border: none;
    border-radius: 4px; cursor: pointer; font-size: 12px; font-weight: 600; white-space: nowrap;
}
.firm-prompt-bar-yes:hover { background: #16a34a; }
.firm-prompt-bar-no {
    padding: 5px 12px; background: rgba(255,255,255,.15); color: white; border: none;
    border-radius: 4px; cursor: pointer; font-size: 12px; white-space: nowrap;
}
.firm-prompt-bar-no:hover { background: rgba(255,255,255,.25); }

/* ============================================================
   Job Search Styles
   ============================================================ */
.job-results-content { padding: 24px 28px 40px; }
.job-results-count {
    font-size: 12px; color: var(--gray); font-weight: 500; margin-left: 8px;
}
.job-results-grid {
    display: flex; flex-direction: column; gap: 12px; margin-top: 16px;
}
.job-results-empty {
    text-align: center; padding: 60px 40px; color: var(--gray);
}
.job-results-empty p { font-size: 16px; font-weight: 600; color: #9ca3af; }
.job-results-empty-sub { font-size: 13px; font-weight: 400; margin-top: 4px; }

/* Job Card */
.job-card {
    display: flex; gap: 12px;
    background: var(--white);
    border: 1px solid var(--gray-light);
    border-radius: var(--radius-lg);
    padding: 16px;
    transition: box-shadow .15s, border-color .15s;
}
.job-card:hover { box-shadow: var(--shadow-md); border-color: var(--primary); }
.job-card-selected { border-color: var(--primary); background: #E0F1FF; }

.job-card-select { display: flex; align-items: flex-start; padding-top: 4px; flex-shrink: 0; }
.job-card-cb { cursor: pointer; width: 16px; height: 16px; }
.job-card-body { flex: 1; min-width: 0; }
.job-card-top { display: flex; gap: 12px; align-items: flex-start; }

/* Firm Avatar */
.job-card-avatar {
    width: 42px; height: 42px; min-width: 42px;
    border-radius: 10px;
    display: flex; align-items: center; justify-content: center;
    color: #fff; font-weight: 700; font-size: 14px;
    letter-spacing: 0.5px; flex-shrink: 0;
}

.job-card-header { flex: 1; min-width: 0; }
.job-card-title-row { display: flex; align-items: center; gap: 8px; flex-wrap: wrap; }
.job-card-title {
    font-size: 14px; font-weight: 700; color: var(--dark);
    cursor: pointer; text-decoration: none;
}
.job-card-title:hover { color: var(--primary); }

.job-card-firm { font-size: 13px; color: var(--gray); margin-top: 2px; }
.job-card-meta { display: flex; align-items: center; gap: 12px; margin-top: 4px; flex-wrap: wrap; }
.job-meta-item {
    display: inline-flex; align-items: center; gap: 4px;
    font-size: 12px; color: var(--gray);
}
.job-meta-item svg { flex-shrink: 0; color: #9ca3af; }

.job-exp {
    display: inline-block;
    font-size: 11px; font-weight: 600; color: #6d28d9;
    background: #ede9fe; padding: 2px 8px; border-radius: 4px;
}

/* Job Status Pill */
.job-status-pill {
    display: inline-block; font-size: 10px; font-weight: 700;
    padding: 2px 8px; border-radius: 4px; text-transform: uppercase;
    letter-spacing: .3px; white-space: nowrap;
}
.jstatus-open { background: var(--green-bg); color: var(--green-dark); }
.jstatus-closed { background: var(--gray-lighter); color: var(--gray); }
.jstatus-filled { background: var(--blue-tier-bg); color: var(--blue-tier-dark); }

/* Practice Area Pills */
.job-card-pills { display: flex; flex-wrap: wrap; gap: 4px; margin-top: 8px; }
.job-pill {
    display: inline-block; font-size: 11px; font-weight: 500;
    padding: 2px 8px; border-radius: 4px;
    background: var(--blue-light); color: var(--blue);
}

/* Job Card Description */
.job-card-desc {
    font-size: 12px; color: var(--gray); line-height: 1.5;
    margin-top: 8px;
    display: -webkit-box; -webkit-line-clamp: 3;
    -webkit-box-orient: vertical; overflow: hidden;
}

/* Job Card Actions */
.job-card-actions { display: flex; gap: 8px; margin-top: 12px; flex-wrap: wrap; }
.job-card-btn {
    display: inline-flex; align-items: center; gap: 4px;
    padding: 6px 12px; border: 1px solid var(--gray-light);
    border-radius: var(--radius); background: var(--white);
    font-size: 12px; font-weight: 600; color: var(--dark);
    cursor: pointer; font-family: var(--font); transition: all .15s;
}
.job-card-btn:hover { border-color: var(--primary); color: var(--primary); }
.job-card-btn:disabled { opacity: .5; cursor: default; }
.job-card-btn-primary {
    background: var(--primary); color: #fff; border-color: var(--primary);
}
.job-card-btn-primary:hover { background: var(--primary-hover); border-color: var(--primary-hover); color: #fff; }
.job-card-btn-done {
    background: var(--green-bg) !important; color: var(--green-dark) !important;
    border-color: var(--green-bg) !important; cursor: default !important;
}

/* Job Detail Modal */
.job-detail-header {
    display: flex; align-items: center; gap: 14px;
    padding-bottom: 16px; border-bottom: 1px solid var(--gray-light);
    margin-bottom: 16px;
}
.job-detail-avatar { width: 52px; height: 52px; min-width: 52px; font-size: 18px; border-radius: 12px; }
.job-detail-title { font-size: 18px; font-weight: 700; color: var(--dark); margin-bottom: 4px; }
.job-detail-firm { font-size: 14px; color: var(--gray); }
.job-detail-meta {
    display: grid; grid-template-columns: 1fr 1fr;
    gap: 12px; margin-bottom: 20px;
}
.job-detail-field strong {
    display: block; font-size: 11px; color: var(--gray);
    text-transform: uppercase; letter-spacing: .3px; margin-bottom: 4px;
}
.job-detail-locations { display: flex; flex-wrap: wrap; gap: 4px; }
.job-detail-location {
    display: inline-block; font-size: 12px;
    padding: 2px 8px; border-radius: 4px;
    background: var(--gray-lighter); color: var(--dark);
}
.job-detail-section { margin-bottom: 20px; }
.job-detail-section h3 {
    font-size: 13px; font-weight: 700; color: var(--dark);
    text-transform: uppercase; letter-spacing: .3px; margin-bottom: 10px;
}
.job-detail-description {
    font-size: 13px; line-height: 1.7; color: var(--dark);
    max-height: 400px; overflow-y: auto;
    padding: 12px; background: var(--gray-lighter);
    border-radius: var(--radius); white-space: pre-wrap;
}
.job-detail-actions {
    display: flex; gap: 10px; margin-top: 20px;
    padding-top: 16px; border-top: 1px solid var(--gray-light);
}

/* ============================================================
   Responsive
   ============================================================ */
@media (max-width: 1400px) {
    .kanban-column { min-width: 200px; width: 220px; }
    .job-detail-meta { grid-template-columns: 1fr; }
    .dashboard-metrics { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 900px) {
    .dashboard-metrics { grid-template-columns: 1fr 1fr; }
}
@media (max-width: 600px) {
    .dashboard-metrics { grid-template-columns: 1fr; }
}

/* ============================================================
   Find Similar Attorneys
   ============================================================ */

/* Table action button */
.col-actions { width: 36px; text-align: center; }
.cell-actions { text-align: center; }
.btn-find-similar {
    display: inline-flex; align-items: center; justify-content: center;
    width: 28px; height: 28px; border-radius: 50%;
    border: 1px solid var(--gray-light); background: var(--white);
    color: var(--gray); cursor: pointer; transition: all .15s;
    padding: 0;
}
.btn-find-similar:hover {
    border-color: var(--primary); color: var(--primary);
    background: var(--primary-light);
}

/* Profile modal Find Similar button */
.btn-find-similar-profile {
    display: inline-flex; align-items: center; gap: 6px;
    padding: 6px 14px; border-radius: var(--radius);
    border: 1px solid var(--blue); background: var(--blue-light);
    color: var(--blue); font-size: 12px; font-weight: 600;
    cursor: pointer; transition: all .15s; margin-top: 4px;
    font-family: var(--font);
}
.btn-find-similar-profile:hover {
    background: var(--blue); color: #fff;
}

/* Similar results view container */
.similar-results-view {
    padding: 24px 28px 40px;
    overflow-y: auto; height: 100%;
}

/* Results layout */
.sim-results { max-width: 900px; }
.sim-header {
    margin-bottom: 24px;
    display: flex; flex-wrap: wrap; gap: 12px; align-items: flex-start;
}
.sim-header .btn-back { margin-bottom: 0; flex-shrink: 0; }
.sim-header-content { flex: 1; min-width: 200px; }
.sim-header-right {
    display: flex; align-items: center; gap: 10px; flex-shrink: 0;
}
.sim-title {
    font-size: 18px; font-weight: 800; color: var(--dark);
    margin-bottom: 4px;
}
.sim-source-info {
    font-size: 12px; color: var(--gray); margin-bottom: 4px;
}
.sim-source-summary {
    font-size: 13px; color: var(--gray); font-style: italic;
    line-height: 1.5; margin-top: 4px;
}
.sim-elapsed {
    font-size: 11px; color: var(--gray); font-weight: 500;
    white-space: nowrap;
}
.sim-loading-text {
    font-size: 13px; color: var(--gray); font-style: italic;
    animation: simPulse 1.5s ease-in-out infinite;
}
@keyframes simPulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.4; }
}

/* Similarity cards */
.sim-cards {
    display: flex; flex-direction: column; gap: 10px;
}
.sim-card {
    display: flex; gap: 16px; padding: 16px;
    background: var(--white); border: 1px solid var(--gray-light);
    border-radius: var(--radius-lg); transition: all .15s;
}
.sim-card:hover {
    border-color: var(--primary); box-shadow: var(--shadow-md);
}
.sim-rank-col {
    display: flex; flex-direction: column; align-items: center;
    gap: 4px; min-width: 44px; flex-shrink: 0;
}
.sim-rank {
    font-size: 18px; font-weight: 800; color: var(--dark);
}
.sim-score {
    display: inline-block; font-size: 11px; font-weight: 700;
    padding: 2px 8px; border-radius: 10px;
}
.sim-score-high { background: var(--green-bg); color: var(--green-dark); }
.sim-score-mid { background: var(--blue-tier-bg); color: var(--blue-tier-dark); }
.sim-score-low { background: #fef3c7; color: #92400e; }

.sim-card-body { flex: 1; min-width: 0; }
.sim-card-top {
    display: flex; align-items: center; gap: 8px; flex-wrap: wrap;
    margin-bottom: 2px;
}
.sim-name {
    font-size: 14px; font-weight: 700; color: var(--dark);
    cursor: pointer; text-decoration: none;
}
.sim-name:hover { color: var(--primary-dark); text-decoration: underline; }
.sim-pipeline-badge {
    display: inline-block; font-size: 9px; font-weight: 600;
    padding: 1px 6px; border-radius: 4px;
    background: var(--green-bg); color: var(--green-dark);
}
.sim-card-firm {
    font-size: 12px; color: var(--gray); margin-bottom: 2px;
}
.sim-card-detail {
    font-size: 11px; color: var(--gray); margin-bottom: 6px;
}
.sim-reason {
    font-size: 13px; color: var(--dark); line-height: 1.5;
    margin-bottom: 8px; font-weight: 500;
}
.sim-card-actions {
    display: flex; gap: 6px; flex-wrap: wrap;
}
.sim-action-btn {
    padding: 4px 10px; font-size: 11px; font-weight: 600;
    border-radius: var(--radius); border: 1px solid var(--gray-light);
    background: var(--white); color: var(--gray);
    cursor: pointer; transition: all .15s; font-family: var(--font);
}
.sim-action-btn:hover {
    border-color: var(--primary); color: var(--primary);
    background: var(--primary-light);
}

/* Skeleton loading state */
.sim-skeleton { opacity: 0.5; pointer-events: none; }
.sim-skel-line {
    height: 12px; background: var(--gray-light);
    border-radius: 4px; margin-bottom: 8px;
    animation: simPulse 1.5s ease-in-out infinite;
}
.sim-skeleton .sim-rank { color: var(--gray-light); }

/* ============================================================
   Firm Prompt (no-firm detected interactive bubble)
   ============================================================ */
.firm-prompt-buttons {
    display: flex; gap: 8px; flex-wrap: wrap;
    margin-top: 10px;
}
.firm-prompt-btn {
    padding: 6px 14px; font-size: 13px; font-weight: 600;
    border-radius: var(--radius); border: 1px solid var(--gray-light);
    background: var(--white); color: var(--dark);
    cursor: pointer; transition: all .15s; font-family: var(--font);
}
.firm-prompt-btn:hover {
    border-color: var(--primary); color: var(--primary-dark);
    background: var(--primary-light);
}
.firm-prompt-no {
    color: var(--gray);
}
.firm-prompt-no:hover {
    border-color: var(--gray); color: var(--dark);
    background: var(--gray-lighter);
}
.firm-prompt-input {
    display: flex; gap: 6px; align-items: center; width: 100%;
}
.firm-input-field {
    flex: 1; padding: 7px 12px; font-size: 13px;
    border: 1px solid var(--gray-light); border-radius: var(--radius);
    font-family: var(--font); outline: none;
    transition: border-color .15s;
}
.firm-input-field:focus {
    border-color: var(--primary);
}
.firm-prompt-go {
    padding: 7px 16px; font-size: 13px; font-weight: 600;
    border-radius: var(--radius); border: 1px solid var(--primary);
    background: var(--primary); color: var(--white);
    cursor: pointer; font-family: var(--font);
    transition: background .15s;
}
.firm-prompt-go:hover {
    background: var(--primary-hover);
}

/* ============================================================
   Top Candidates — Firm Profile Tab
   ============================================================ */

/* Firm card match badge */
.firm-match-badge {
    display: inline-block; font-size: 10px; font-weight: 600;
    background: var(--blue-light); color: var(--blue);
    padding: 2px 8px; border-radius: 10px; margin-left: 6px;
    vertical-align: middle;
}

/* DNA Summary */
.tc-dna-summary {
    background: var(--gray-lighter); border-radius: var(--radius);
    padding: 12px 16px; margin-bottom: 16px;
}
.tc-dna-header {
    display: flex; justify-content: space-between; align-items: center;
    margin-bottom: 8px;
}
.tc-dna-header strong { font-size: 13px; color: var(--dark); }
.tc-dna-meta { font-size: 11px; color: var(--gray); }
.tc-dna-pills { display: flex; flex-direction: column; gap: 4px; }
.tc-dna-row { font-size: 12px; color: var(--dark); line-height: 1.5; }
.tc-dna-label { font-weight: 600; color: var(--gray); margin-right: 4px; }

/* Header + controls */
.tc-header {
    display: flex; justify-content: space-between; align-items: flex-start;
    margin-bottom: 12px; gap: 12px;
}
.tc-title { font-size: 15px; font-weight: 700; color: var(--dark); margin: 0; }
.tc-subtitle { font-size: 12px; color: var(--gray); margin: 2px 0 0; }
.tc-controls { display: flex; gap: 8px; align-items: center; flex-shrink: 0; }
.tc-sort {
    padding: 5px 10px; font-size: 12px; border: 1px solid var(--gray-light);
    border-radius: var(--radius); font-family: var(--font); background: var(--white);
    cursor: pointer;
}
.tc-refresh-btn {
    width: 30px; height: 30px; border-radius: var(--radius);
    border: 1px solid var(--gray-light); background: var(--white);
    font-size: 16px; cursor: pointer; display: flex; align-items: center;
    justify-content: center; color: var(--gray); transition: all .15s;
}
.tc-refresh-btn:hover { border-color: var(--primary); color: var(--primary); }

/* Candidate list */
.tc-list { display: flex; flex-direction: column; gap: 8px; }

/* Candidate card */
.tc-card {
    display: flex; align-items: flex-start; gap: 12px;
    padding: 12px; border: 1px solid var(--gray-light);
    border-radius: var(--radius); background: var(--white);
    cursor: pointer; transition: border-color .15s, box-shadow .15s;
}
.tc-card:hover {
    border-color: var(--primary); box-shadow: var(--shadow);
}

/* Score circle */
.tc-score {
    width: 44px; height: 44px; border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 15px; font-weight: 800; flex-shrink: 0;
}
.tc-score-green { background: var(--green-bg); color: var(--green-dark); }
.tc-score-blue  { background: var(--blue-tier-bg); color: var(--blue-tier-dark); }
.tc-score-yellow { background: var(--orange-bg); color: var(--orange-dark); }

/* Card body */
.tc-card-body { flex: 1; min-width: 0; }
.tc-card-name { font-size: 14px; font-weight: 700; color: var(--dark); }
.tc-card-meta { font-size: 12px; color: var(--gray); margin-top: 2px; }
.tc-card-detail { font-size: 11px; color: var(--gray); margin-top: 2px; }
.tc-card-specs { display: flex; gap: 4px; flex-wrap: wrap; margin-top: 4px; }
.tc-spec-pill {
    font-size: 10px; padding: 1px 6px; border-radius: 4px;
    background: var(--gray-lighter); color: var(--gray);
}

/* Match reason tags */
.tc-card-reasons { display: flex; gap: 4px; flex-wrap: wrap; margin-top: 6px; }
.tc-tag {
    font-size: 10px; font-weight: 600; padding: 2px 7px;
    border-radius: 4px; white-space: nowrap;
}
.tc-tag-school { background: #fef3c7; color: #92400e; }
.tc-tag-firm   { background: #E0F1FF; color: #0059FF; }
.tc-tag-boom   { background: #E0F1FF; color: #0059FF; }
.tc-tag-pa     { background: #ede9fe; color: #5b21b6; }
.tc-tag-spec   { background: #fce7f3; color: #9d174d; }
.tc-tag-loc    { background: #e0f2fe; color: #075985; }
.tc-tag-cy     { background: #f3f4f6; color: #313131; }
.tc-tag-default { background: var(--gray-lighter); color: var(--gray); }

/* Card actions */
.tc-card-actions {
    display: flex; flex-direction: column; gap: 4px; flex-shrink: 0;
}
.tc-action-btn {
    padding: 4px 10px; font-size: 11px; font-weight: 600;
    border-radius: var(--radius); border: 1px solid var(--gray-light);
    background: var(--white); color: var(--gray);
    cursor: pointer; transition: all .15s; font-family: var(--font);
    white-space: nowrap;
}
.tc-action-btn:hover {
    border-color: var(--primary); color: var(--primary-dark);
    background: var(--primary-light);
}

/* ===== Pitch PDF Modal & Buttons ===== */
.pitch-sections {
    display: grid; grid-template-columns: 1fr 1fr; gap: 4px 16px;
}
.pitch-sections .checkbox-label { font-size: 13px; }
.firm-pitch-preview {
    font-size: 12px; color: var(--gray);
    background: var(--gray-lighter); border-radius: 6px;
    padding: 6px 10px; margin-top: 4px;
}
.pitch-branding-details {
    margin-top: 8px; border: 1px solid var(--gray-lighter); border-radius: var(--radius);
    padding: 8px 12px;
}
.pitch-branding-details summary {
    cursor: pointer; font-size: 13px; font-weight: 600; color: var(--gray);
}
.pitch-branding-details[open] summary { margin-bottom: 8px; }
.pitch-loading {
    display: flex; align-items: center; gap: 10px; padding: 16px 0;
    font-size: 13px; color: var(--gray);
}
.input-readonly {
    background: var(--gray-lighter); cursor: default;
}
.optional-label { font-weight: 400; color: var(--gray-light); font-size: 11px; }

/* Pitch icon button (used in search table & profile card) */
.btn-pitch {
    display: inline-flex; align-items: center; justify-content: center;
    width: 28px; height: 28px; border-radius: var(--radius);
    border: 1px solid var(--gray-light); background: var(--white);
    cursor: pointer; color: var(--gray); transition: all .15s;
    padding: 0; flex-shrink: 0;
}
.btn-pitch:hover {
    border-color: var(--primary); color: var(--primary-dark);
    background: var(--primary-light);
}
.btn-pitch-profile {
    padding: 6px 14px; width: auto; font-size: 12px; font-weight: 600;
    font-family: var(--font); gap: 6px; height: auto;
}
.btn-pitch-profile svg { flex-shrink: 0; }

/* =========================================================
   AVATAR DROPDOWN
   ========================================================= */
.nav-avatar-wrap {
    position: relative;
}
.nav-avatar-dropdown {
    display: none;
    position: absolute;
    top: calc(100% + 8px);
    right: 0;
    background: #fff;
    border: 1px solid var(--gray-light);
    border-radius: 10px;
    box-shadow: 0 8px 24px rgba(0,0,0,.12);
    min-width: 220px;
    z-index: 1000;
    overflow: hidden;
}
.nav-avatar-wrap.open .nav-avatar-dropdown { display: block; }
.avatar-dropdown-user {
    padding: 14px 16px 12px;
}
.avatar-dropdown-name {
    font-size: 14px; font-weight: 600; color: var(--dark);
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.avatar-dropdown-email {
    font-size: 12px; color: var(--gray);
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    margin-top: 2px;
}
.avatar-dropdown-divider {
    margin: 0; border: none; border-top: 1px solid var(--gray-light);
}
.avatar-dropdown-item {
    display: flex; align-items: center; gap: 10px;
    width: 100%; padding: 11px 16px;
    font-size: 13px; font-weight: 500; color: var(--dark);
    background: none; border: none; cursor: pointer; text-align: left;
    transition: background .12s;
    font-family: var(--font);
}
.avatar-dropdown-item:hover { background: var(--gray-lighter); }
.avatar-dropdown-item svg { color: var(--gray); flex-shrink: 0; }
.avatar-dropdown-signout { color: #dc2626; }
.avatar-dropdown-signout svg { color: #dc2626; }
.avatar-dropdown-signout:hover { background: #fef2f2; }

/* =========================================================
   MARKETING PAGE
   ========================================================= */
.mkt-page {
    font-family: var(--font);
    color: var(--dark);
    background: #fff;
    min-height: 100vh;
}

/* Marketing Nav */
.mkt-nav {
    position: sticky; top: 0; z-index: 100;
    background: #fff;
    border-bottom: 1px solid var(--gray-light);
    height: 64px;
}
.mkt-nav-inner {
    max-width: 1200px; margin: 0 auto;
    display: flex; align-items: center;
    padding: 0 32px; height: 100%; gap: 32px;
}
.mkt-nav-logo { display: flex; align-items: center; text-decoration: none; flex-shrink: 0; }

.mkt-logo-img { display: block; }
.mkt-nav-links {
    display: flex; gap: 28px; flex: 1;
}
.mkt-nav-link {
    font-size: 14px; font-weight: 500; color: var(--gray);
    text-decoration: none; transition: color .15s;
}
.mkt-nav-link:hover { color: var(--dark); }
.mkt-nav-actions { display: flex; gap: 12px; align-items: center; }
.mkt-btn-outline {
    padding: 8px 18px; border-radius: 8px;
    border: 1.5px solid var(--primary); color: var(--primary);
    background: none; font-size: 14px; font-weight: 600;
    cursor: pointer; transition: all .15s; font-family: var(--font);
}
.mkt-btn-outline:hover { background: var(--primary-light); }
.mkt-btn-primary {
    padding: 8px 18px; border-radius: 8px;
    background: var(--primary); color: #fff; border: none;
    font-size: 14px; font-weight: 600; cursor: pointer;
    transition: background .15s; font-family: var(--font);
}
.mkt-btn-primary:hover { background: var(--primary-hover); }

/* Hero */
.mkt-hero {
    background: linear-gradient(172deg, #000 10.08%, #0059FF 41.45%, #0791FE 64.42%, #E0F1FF 101.36%);
    padding: 88px 32px 0;
    text-align: center;
    overflow: visible;
    position: relative;
    z-index: 1;
}
.mkt-hero-text {
    max-width: 740px; margin: 0 auto;
}
.mkt-hero-tagline {
    font-size: 12px; font-weight: 700; letter-spacing: .12em;
    color: #E0F1FF; text-transform: uppercase; margin-bottom: 18px;
}
.mkt-hero-headline {
    font-size: clamp(30px, 4.5vw, 48px); font-weight: 800; line-height: 1.12;
    color: #fff; margin-bottom: 20px;
}
.mkt-hero-sub {
    font-size: 18px; line-height: 1.65; color: rgba(255,255,255,.82);
    max-width: 600px; margin: 0 auto 36px;
}
.mkt-hero-ctas { display: flex; gap: 14px; justify-content: center; flex-wrap: wrap; margin-bottom: 0; }
.mkt-cta-primary {
    padding: 14px 32px; border-radius: 10px;
    background: #fff; color: var(--primary); border: none;
    font-size: 16px; font-weight: 700; cursor: pointer;
    transition: transform .15s, box-shadow .15s; font-family: var(--font);
    box-shadow: 0 4px 16px rgba(0,0,0,.2);
}
.mkt-cta-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 28px rgba(0,0,0,.28); }
.mkt-cta-secondary {
    padding: 14px 32px; border-radius: 10px;
    background: rgba(255,255,255,.12); color: #fff;
    border: 1.5px solid rgba(255,255,255,.45);
    font-size: 16px; font-weight: 600; cursor: pointer;
    transition: background .15s; font-family: var(--font);
}
.mkt-cta-secondary:hover { background: rgba(255,255,255,.22); }

/* ── Hero product mockup ───────────────────────────────────── */
.mkt-hero-mockup-wrap {
    max-width: 960px;
    margin: 56px auto -220px;
    padding: 0 24px;
    position: relative;
    z-index: 10;
}
.mkt-browser-frame {
    background: #fff;
    border-radius: 12px 12px 8px 8px;
    overflow: hidden;
    box-shadow:
        0 0 0 1px rgba(255,255,255,.2),
        0 40px 80px rgba(0,0,0,.45),
        0 8px 20px rgba(0,0,0,.2);
}

/* Browser chrome bar */
.mkt-browser-bar {
    background: #E8E8E8;
    padding: 9px 14px;
    display: flex;
    align-items: center;
    gap: 10px;
    border-bottom: 1px solid #D4D4D4;
    flex-shrink: 0;
}
.mkt-browser-dots {
    display: flex; gap: 6px; flex-shrink: 0;
}
.mkt-browser-dots span {
    width: 11px; height: 11px; border-radius: 50%;
}
.mkt-browser-dots span:nth-child(1) { background: #FF5F57; }
.mkt-browser-dots span:nth-child(2) { background: #FEBC2E; }
.mkt-browser-dots span:nth-child(3) { background: #28C840; }
.mkt-browser-urlbar {
    flex: 1; background: #fff;
    border-radius: 5px; border: 1px solid #DCDCDC;
    padding: 3px 12px; font-size: 11px; color: #888;
    text-align: center; max-width: 300px; margin: 0 auto;
}
.mkt-browser-bar-spacer { flex: 1; }

/* Dashboard content area */
.mkt-browser-content {
    background: #F6F6F6;
    overflow: hidden;
}

/* Fake app nav inside browser */
.mkt-dash-nav {
    background: #fff; border-bottom: 1px solid #EDEDED;
    padding: 0 16px; height: 42px;
    display: flex; align-items: center; gap: 16px;
}
.mkt-dash-logo-img {
    height: 22px; width: auto; object-fit: contain; display: block; flex-shrink: 0;
}
.mkt-dash-nav-tabs { display: flex; gap: 2px; flex: 1; }
.mkt-dash-tab {
    font-size: 11px; font-weight: 500; color: #888;
    padding: 4px 10px; border-radius: 4px;
}
.mkt-dash-tab-active {
    color: #0059FF; background: #E0F1FF; font-weight: 600;
}
.mkt-dash-nav-avatar {
    width: 26px; height: 26px; border-radius: 50%;
    background: #0059FF; color: #fff;
    font-size: 9px; font-weight: 700; letter-spacing: .02em;
    display: flex; align-items: center; justify-content: center;
    flex-shrink: 0;
}

/* Metrics strip */
.mkt-dash-metrics {
    display: flex; gap: 10px;
    padding: 12px 16px;
    background: #fff; border-bottom: 1px solid #EDEDED;
}
.mkt-dash-metric {
    flex: 1; background: #F6F6F6; border-radius: 8px;
    padding: 10px 12px; border: 1px solid #EDEDED;
}
.mkt-metric-green { border-color: #bbf7d0; background: #f0fdf4; }
.mkt-dash-metric-val {
    font-size: 18px; font-weight: 800; color: #151515;
    line-height: 1; margin-bottom: 3px;
}
.mkt-metric-val-green { color: #16a34a; }
.mkt-dash-metric-lbl {
    font-size: 9px; color: #888; font-weight: 600;
    text-transform: uppercase; letter-spacing: .04em;
    white-space: nowrap;
}

/* Pipeline board header */
.mkt-dash-board-hd {
    display: flex; align-items: center;
    justify-content: space-between;
    padding: 10px 16px 8px; background: #F6F6F6;
}
.mkt-dash-board-title {
    font-size: 13px; font-weight: 700; color: #151515;
}
.mkt-dash-add-btn {
    font-size: 11px; font-weight: 600; color: #0059FF;
    background: #E0F1FF; padding: 3px 10px; border-radius: 20px;
}

/* Kanban */
.mkt-dash-kanban {
    display: flex; gap: 8px;
    padding: 0 16px 20px; background: #F6F6F6;
    overflow: hidden;
}
.mkt-dash-col { flex: 1; min-width: 0; }
.mkt-dash-col-hd {
    font-size: 9px; font-weight: 700; text-transform: uppercase;
    letter-spacing: .05em; color: #444;
    border-top: 3px solid transparent; padding: 8px 0 6px;
    display: flex; align-items: center; gap: 5px;
}
.mkt-col-hd-blue { border-top-color: #0059FF; }
.mkt-col-hd-green { border-top-color: #22c55e; }
.mkt-dash-col-hd span {
    background: #EDEDED; border-radius: 8px;
    padding: 1px 5px; font-size: 9px; color: #888; font-weight: 600;
}
.mkt-dash-card {
    background: #fff; border-radius: 6px; border: 1px solid #EDEDED;
    padding: 7px 8px; margin-bottom: 5px;
}
.mkt-dash-card-blue { border-left: 3px solid #0059FF; padding-left: 6px; }
.mkt-dash-card-green { border-left: 3px solid #22c55e; padding-left: 6px; }

/* Card content */
.mkt-card-top {
    display: flex; align-items: center;
    justify-content: space-between; gap: 4px; margin-bottom: 3px;
}
.mkt-card-name {
    font-size: 9px; font-weight: 700; color: #151515;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    flex: 1; min-width: 0;
}
.mkt-card-firm {
    font-size: 8px; color: #888;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}

/* Tier badges */
.mkt-tier {
    font-size: 7px; font-weight: 800; letter-spacing: .04em;
    padding: 1px 5px; border-radius: 8px; flex-shrink: 0;
    white-space: nowrap;
}
.mkt-tier-1p { background: #0059FF; color: #fff; }
.mkt-tier-1  { background: #E0F1FF; color: #0059FF; }
.mkt-tier-2  { background: #F0F0F0; color: #888; }

/* Placement fee */
.mkt-card-fee {
    font-size: 9px; font-weight: 700; color: #16a34a; margin-top: 4px;
}

/* Section shared */
.mkt-section-inner { max-width: 1200px; margin: 0 auto; padding: 0 32px; }
.mkt-section-title {
    font-size: clamp(22px, 3vw, 34px); font-weight: 800;
    color: var(--dark); text-align: center; margin-bottom: 12px;
}
.mkt-section-sub {
    font-size: 17px; color: var(--gray); text-align: center;
    max-width: 580px; margin: 0 auto 52px; line-height: 1.6;
}

/* Features — extra top padding absorbs the hero mockup overlap */
.mkt-features { padding: 280px 0 88px; background: #fff; position: relative; z-index: 0; }
.mkt-features-grid {
    display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 28px;
}
.mkt-feature-card {
    background: var(--gray-lighter); border-radius: 14px;
    padding: 32px 28px; border: 1px solid var(--gray-light);
    transition: box-shadow .2s;
}
.mkt-feature-card:hover { box-shadow: 0 6px 24px rgba(0,89,255,.08); }
.mkt-feature-icon {
    width: 52px; height: 52px; border-radius: 12px;
    background: var(--primary-light); display: flex;
    align-items: center; justify-content: center; margin-bottom: 20px;
}
.mkt-feature-card h3 {
    font-size: 17px; font-weight: 700; color: var(--dark); margin-bottom: 10px;
}
.mkt-feature-card p { font-size: 14px; color: var(--gray); line-height: 1.65; }

/* How It Works */
.mkt-how { padding: 88px 0; background: var(--gray-lighter); }
.mkt-steps {
    display: flex; align-items: flex-start; gap: 0;
    justify-content: center; flex-wrap: wrap;
}
.mkt-step {
    flex: 1; min-width: 200px; max-width: 280px;
    text-align: center; padding: 0 16px;
}
.mkt-step-num {
    width: 52px; height: 52px; border-radius: 50%;
    background: var(--primary); color: #fff;
    font-size: 22px; font-weight: 800;
    display: flex; align-items: center; justify-content: center;
    margin: 0 auto 20px;
}
.mkt-step h3 { font-size: 17px; font-weight: 700; color: var(--dark); margin-bottom: 10px; }
.mkt-step p { font-size: 14px; color: var(--gray); line-height: 1.65; }
.mkt-step-arrow {
    display: flex; align-items: center; padding-top: 26px;
}

/* Built for Legal Search */
.mkt-built-for { padding: 96px 0; background: #fff; }
.mkt-built-for-inner {
    display: grid; grid-template-columns: 1fr 1fr;
    gap: 64px; align-items: center;
}
.mkt-built-for-text h2 {
    font-size: clamp(22px, 3vw, 34px); font-weight: 800;
    color: var(--dark); margin-bottom: 18px; line-height: 1.2;
}
.mkt-built-for-text p {
    font-size: 16px; color: var(--gray); line-height: 1.7;
    margin-bottom: 28px;
}
.mkt-checklist { list-style: none; padding: 0; margin: 0; }
.mkt-checklist li {
    display: flex; align-items: center; gap: 12px;
    font-size: 15px; color: var(--dark); padding: 8px 0;
    font-weight: 500;
}
.mkt-checklist svg { flex-shrink: 0; }

/* Mock card */
.mkt-built-for-visual { display: flex; justify-content: center; }
.mkt-mock-card {
    background: #fff; border-radius: 14px;
    border: 1px solid var(--gray-light);
    box-shadow: 0 12px 40px rgba(0,0,0,.10);
    overflow: hidden; width: 100%; max-width: 360px;
}
.mkt-mock-header {
    background: var(--gray-lighter); padding: 12px 16px;
    display: flex; align-items: center; gap: 6px;
}
.mkt-mock-dot {
    width: 11px; height: 11px; border-radius: 50%;
}
.mkt-mock-dot-red { background: #ff5f57; }
.mkt-mock-dot-yellow { background: #febc2e; }
.mkt-mock-dot-green { background: #28c840; }
.mkt-mock-title {
    font-size: 12px; color: var(--gray); margin-left: 6px; font-weight: 500;
}
.mkt-mock-body { padding: 20px 20px 24px; }
.mkt-mock-tier {
    font-size: 10px; font-weight: 700; letter-spacing: .06em;
    padding: 3px 10px; border-radius: 20px; display: inline-block;
    text-transform: uppercase;
}
.mkt-mock-tier-1plus { background: var(--primary); color: #fff; }
.mkt-mock-tier-1 { background: #0791FE; color: #fff; }
.mkt-mock-tier-2 { background: var(--primary-light); color: var(--primary); }
.mkt-mock-row {
    display: flex; justify-content: space-between; align-items: baseline;
    margin-top: 8px;
}
.mkt-mock-name { font-size: 14px; font-weight: 700; color: var(--dark); }
.mkt-mock-firm { font-size: 11px; color: var(--gray); }
.mkt-mock-detail { font-size: 11px; color: var(--gray); margin-top: 2px; }

/* Social Proof */
.mkt-social-proof {
    padding: 56px 0; background: var(--gray-lighter);
    text-align: center;
}
.mkt-social-label {
    font-size: 13px; font-weight: 600; letter-spacing: .06em;
    text-transform: uppercase; color: var(--gray); margin-bottom: 28px;
}
.mkt-logos-row {
    display: flex; justify-content: center; gap: 32px; flex-wrap: wrap;
}
.mkt-logo-placeholder {
    padding: 14px 28px; border-radius: 10px;
    border: 1px solid var(--gray-light); background: #fff;
    font-size: 13px; font-weight: 600; color: var(--gray);
}

/* Pricing */
.mkt-pricing { padding: 96px 0; background: #fff; }
.mkt-pricing-grid {
    display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 28px; max-width: 960px; margin: 0 auto;
}
.mkt-pricing-card {
    border: 1px solid var(--gray-light); border-radius: 16px;
    padding: 36px 30px; position: relative; background: #fff;
    transition: box-shadow .2s;
}
.mkt-pricing-card:hover { box-shadow: 0 8px 32px rgba(0,89,255,.08); }
.mkt-pricing-featured {
    border-color: var(--primary); border-width: 2px;
    box-shadow: 0 8px 32px rgba(0,89,255,.12);
}
.mkt-pricing-badge {
    position: absolute; top: -13px; left: 50%; transform: translateX(-50%);
    background: var(--primary); color: #fff;
    font-size: 11px; font-weight: 700; letter-spacing: .05em;
    padding: 4px 14px; border-radius: 20px; text-transform: uppercase;
}
.mkt-pricing-name {
    font-size: 18px; font-weight: 700; color: var(--dark); margin-bottom: 12px;
}
.mkt-pricing-price {
    font-size: 36px; font-weight: 800; color: var(--dark); margin-bottom: 8px;
}
.mkt-pricing-price span { font-size: 16px; font-weight: 500; color: var(--gray); }
.mkt-pricing-desc {
    font-size: 14px; color: var(--gray); margin-bottom: 24px; line-height: 1.55;
}
.mkt-pricing-features {
    list-style: none; padding: 0; margin: 0 0 28px; font-size: 14px; color: var(--dark);
}
.mkt-pricing-features li {
    padding: 6px 0; border-bottom: 1px solid var(--gray-lighter);
    display: flex; gap: 8px; align-items: center;
}
.mkt-pricing-features li::before {
    content: '✓'; color: var(--primary); font-weight: 700; flex-shrink: 0;
}
.mkt-pricing-btn {
    width: 100%; padding: 12px; font-size: 15px; border-radius: 10px;
}

/* Footer */
.mkt-footer {
    background: var(--dark); padding: 64px 32px 0;
}
.mkt-footer-inner {
    max-width: 1200px; margin: 0 auto;
    display: grid; grid-template-columns: 2fr 1fr 1fr;
    gap: 48px; padding-bottom: 48px;
    border-bottom: 1px solid rgba(255,255,255,.12);
}
.mkt-footer-logo { height: 30px; margin-bottom: 14px; }
.mkt-footer-tagline { font-size: 13px; color: rgba(255,255,255,.5); line-height: 1.55; }
.mkt-footer-heading {
    font-size: 13px; font-weight: 700; letter-spacing: .06em;
    text-transform: uppercase; color: rgba(255,255,255,.5); margin-bottom: 16px;
}
.mkt-footer-link {
    display: block; font-size: 14px; color: rgba(255,255,255,.72);
    text-decoration: none; margin-bottom: 10px; transition: color .15s;
}
.mkt-footer-link:hover { color: #fff; }
.mkt-footer-bottom {
    max-width: 1200px; margin: 0 auto;
    padding: 20px 0; font-size: 13px; color: rgba(255,255,255,.35);
}

/* Login Modal */
.mkt-login-overlay {
    position: fixed; inset: 0; z-index: 9000;
    background: rgba(0,0,0,.55); backdrop-filter: blur(4px);
    display: flex; align-items: center; justify-content: center;
    padding: 20px;
}
.mkt-login-card {
    background: #fff; border-radius: 16px;
    padding: 40px 36px; width: 100%; max-width: 420px;
    position: relative; box-shadow: 0 24px 64px rgba(0,0,0,.2);
}
.mkt-login-close {
    position: absolute; top: 14px; right: 16px;
    background: none; border: none; font-size: 22px; line-height: 1;
    color: var(--gray); cursor: pointer; padding: 4px 8px;
}
.mkt-login-close:hover { color: var(--dark); }
.mkt-login-logo { text-align: center; margin-bottom: 24px; }
.mkt-login-title {
    font-size: 20px; font-weight: 700; color: var(--dark);
    text-align: center; margin-bottom: 28px;
}
.mkt-login-field { margin-bottom: 18px; }
.mkt-login-field label {
    display: block; font-size: 13px; font-weight: 600;
    color: var(--dark); margin-bottom: 6px;
}
.mkt-login-field input {
    width: 100%; padding: 11px 14px; border-radius: 8px;
    border: 1.5px solid var(--gray-light); font-size: 14px;
    font-family: var(--font); outline: none; box-sizing: border-box;
    transition: border-color .15s;
}
.mkt-login-field input:focus { border-color: var(--primary); }
.mkt-pw-wrap { position: relative; }
.mkt-pw-wrap input { padding-right: 44px; }
.mkt-toggle-pw {
    position: absolute; right: 10px; top: 50%; transform: translateY(-50%);
    background: none; border: none; cursor: pointer; color: var(--gray);
    padding: 4px; display: flex; align-items: center;
}
.mkt-toggle-pw:hover { color: var(--dark); }
.mkt-login-error {
    font-size: 13px; color: #dc2626; text-align: center;
    margin-bottom: 12px; min-height: 18px;
}
.mkt-login-submit {
    width: 100%; padding: 13px; font-size: 15px; border-radius: 10px; margin-top: 4px;
}

/* Responsive marketing */
@media (max-width: 1024px) {
    .mkt-hero-mockup-wrap { margin-bottom: -160px; }
    .mkt-features { padding-top: 220px; }
    .mkt-dash-col:nth-child(n+5) { display: none; }
}
@media (max-width: 900px) {
    .mkt-built-for-inner { grid-template-columns: 1fr; }
    .mkt-built-for-visual { order: -1; }
    .mkt-footer-inner { grid-template-columns: 1fr 1fr; }
    .mkt-steps { flex-direction: column; align-items: center; }
    .mkt-step-arrow { display: none; }
    .mkt-hero-mockup-wrap { margin-bottom: -120px; }
    .mkt-features { padding-top: 180px; }
    .mkt-dash-col:nth-child(n+4) { display: none; }
    .mkt-dash-metric:nth-child(n+4) { display: none; }
}
@media (max-width: 640px) {
    .mkt-nav-links { display: none; }
    .mkt-footer-inner { grid-template-columns: 1fr; }
    .mkt-hero { padding: 64px 20px 0; }
    .mkt-section-inner { padding: 0 20px; }
    .mkt-hero-mockup-wrap { margin-bottom: -80px; padding: 0 12px; }
    .mkt-features { padding-top: 140px; }
    .mkt-browser-urlbar { display: none; }
    .mkt-dash-col:nth-child(n+3) { display: none; }
    .mkt-dash-metric:nth-child(n+3) { display: none; }
}

/* ============================================================
   CANDIDATE COMPARISON TOOL
   ============================================================ */

/* FAB compare button */
.fab-btn-compare {
    background: #0059FF;
    color: #fff;
    border-color: #0059FF;
}
.fab-btn-compare:hover {
    background: #0047CC;
    border-color: #0047CC;
}

/* Context modal card */
.compare-context-card {
    max-width: 500px;
    width: 100%;
}

/* Candidate chips in context modal */
.compare-candidates-preview {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-bottom: 20px;
    padding: 12px;
    background: #F6F6F6;
    border-radius: 8px;
}
.compare-cand-chip {
    background: #fff;
    border: 1px solid #EDEDED;
    border-radius: 6px;
    padding: 6px 10px;
    min-width: 120px;
}
.compare-cand-chip-name {
    font-size: 13px;
    font-weight: 600;
    color: #151515;
}
.compare-cand-chip-firm {
    font-size: 11px;
    color: #696969;
    margin-top: 1px;
}

/* Priority checkboxes */
.compare-priority-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px 16px;
}
.compare-priority-item {
    display: flex;
    align-items: center;
    gap: 7px;
    font-size: 13px;
    color: #151515;
    cursor: pointer;
    user-select: none;
}
.compare-priority-item input[type="checkbox"] {
    accent-color: #0059FF;
    width: 14px;
    height: 14px;
    cursor: pointer;
}

/* Context form actions row */
.compare-form-actions {
    gap: 8px;
    flex-wrap: wrap;
}
.compare-form-actions .btn-primary {
    display: flex;
    align-items: center;
    gap: 6px;
}

/* Full-screen results overlay */
.compare-results-overlay {
    display: none;
    position: fixed;
    inset: 0;
    z-index: 400;
    background: #fff;
    flex-direction: column;
    overflow: hidden;
}
.compare-results-overlay.open {
    display: flex;
}

/* Results header */
.compare-results-header {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 14px 24px;
    border-bottom: 1px solid #EDEDED;
    background: #fff;
    flex-shrink: 0;
}
.compare-back-btn {
    display: flex;
    align-items: center;
    gap: 6px;
    background: none;
    border: 1px solid #EDEDED;
    border-radius: 6px;
    padding: 6px 12px;
    font-size: 13px;
    color: #151515;
    cursor: pointer;
    white-space: nowrap;
    font-family: inherit;
}
.compare-back-btn:hover { background: #F6F6F6; }
.compare-results-title {
    flex: 1;
    font-size: 16px;
    font-weight: 600;
    color: #151515;
    margin: 0;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}
.compare-results-header-actions {
    display: flex;
    gap: 8px;
    flex-shrink: 0;
}
.compare-results-header-actions .btn-secondary {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
}

/* Results scrollable body */
.compare-results-body {
    flex: 1;
    overflow-y: auto;
    padding: 24px;
    max-width: 1100px;
    width: 100%;
    margin: 0 auto;
    box-sizing: border-box;
}

/* Section */
.compare-section {
    margin-bottom: 32px;
}
.compare-section-title {
    font-size: 15px;
    font-weight: 600;
    color: #151515;
    margin: 0 0 14px;
    display: flex;
    align-items: center;
    gap: 10px;
}

/* Quick compare table */
.compare-table-wrap {
    overflow-x: auto;
    border-radius: 8px;
    border: 1px solid #EDEDED;
}
.compare-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 13px;
}
.compare-table thead th {
    background: #F6F6F6;
    padding: 10px 14px;
    text-align: left;
    border-bottom: 1px solid #EDEDED;
    font-weight: 600;
    color: #151515;
    white-space: nowrap;
}
.compare-table thead th.compare-row-label-th {
    min-width: 130px;
    width: 130px;
}
.compare-table tbody td {
    padding: 9px 14px;
    border-bottom: 1px solid #F6F6F6;
    color: #151515;
    vertical-align: top;
}
.compare-table tbody tr:last-child td { border-bottom: none; }
.compare-table tbody tr:hover td { background: #FAFAFA; }
.compare-row-label {
    font-weight: 500;
    color: #696969;
    background: #FAFAFA;
    white-space: nowrap;
}
.compare-th-name {
    font-size: 13px;
    font-weight: 600;
    color: #151515;
}
.compare-th-firm {
    font-size: 11px;
    color: #696969;
    margin-top: 2px;
    font-weight: 400;
}

/* Head-to-head table */
.compare-hth-table { table-layout: auto; }
.compare-hth-table thead th:first-child { width: 140px; }
.compare-hth-table thead th:nth-child(2) { width: 160px; }
.compare-winner-cell {
    font-weight: 600;
    color: #0059FF;
}

/* AI divider */
.compare-ai-divider {
    display: flex;
    align-items: center;
    gap: 12px;
    margin: 8px 0 28px;
    color: #696969;
    font-size: 12px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: .06em;
}
.compare-ai-divider::before,
.compare-ai-divider::after {
    content: "";
    flex: 1;
    height: 1px;
    background: #EDEDED;
}

/* Executive summary */
.compare-executive-summary {
    background: #F6F6F6;
    border-radius: 8px;
    padding: 16px 18px;
    font-size: 14px;
    color: #151515;
    line-height: 1.65;
    white-space: pre-wrap;
}

/* Ranking cards */
.compare-rank-cards {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    gap: 14px;
}
.compare-rank-card {
    border: 1px solid #EDEDED;
    border-radius: 10px;
    padding: 16px;
    background: #fff;
}
.compare-rank-card-first {
    border-color: #0059FF;
    box-shadow: 0 0 0 3px rgba(0,89,255,.08);
}
.compare-rank-header {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    margin-bottom: 12px;
}
.compare-rank-medal {
    font-size: 22px;
    line-height: 1;
    flex-shrink: 0;
    margin-top: 2px;
}
.compare-rank-info { flex: 1; }
.compare-rank-name {
    font-size: 14px;
    font-weight: 600;
    color: #151515;
}
.compare-rank-headline {
    font-size: 12px;
    color: #696969;
    margin-top: 2px;
    line-height: 1.4;
}
.compare-rank-score-badge {
    background: #0059FF;
    color: #fff;
    font-size: 14px;
    font-weight: 700;
    border-radius: 50%;
    width: 38px;
    height: 38px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

/* Dimension score bars */
.compare-dim-scores {
    margin-bottom: 12px;
    display: flex;
    flex-direction: column;
    gap: 6px;
}
.compare-dim-row {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 12px;
}
.compare-dim-label {
    width: 100px;
    color: #696969;
    flex-shrink: 0;
    text-transform: capitalize;
}
.compare-dim-bar-wrap {
    flex: 1;
    height: 6px;
    background: #EDEDED;
    border-radius: 3px;
    overflow: hidden;
}
.compare-dim-bar {
    height: 100%;
    background: #0059FF;
    border-radius: 3px;
    transition: width .3s ease;
}
.compare-dim-score {
    width: 28px;
    text-align: right;
    color: #151515;
    font-weight: 600;
}

/* Strengths / considerations */
.compare-rank-lists {
    display: flex;
    flex-direction: column;
    gap: 8px;
}
.compare-list-label {
    font-size: 11px;
    font-weight: 600;
    color: #696969;
    text-transform: uppercase;
    letter-spacing: .05em;
    margin-bottom: 4px;
}
.compare-ul {
    margin: 0;
    padding-left: 16px;
    font-size: 12px;
    color: #151515;
    line-height: 1.55;
}
.compare-ul li + li { margin-top: 3px; }
.compare-ul-green li::marker { color: #22c55e; }
.compare-ul-amber li::marker { color: #f59e0b; }

/* Recommendation */
.compare-recommendation {
    background: #E0F1FF;
    border-left: 3px solid #0059FF;
    border-radius: 0 8px 8px 0;
    padding: 14px 16px;
    font-size: 14px;
    color: #151515;
    line-height: 1.65;
    white-space: pre-wrap;
}

/* Client-ready summary */
.compare-copy-btn {
    font-size: 12px;
    padding: 4px 10px;
    line-height: 1;
}
.compare-client-summary {
    background: #FAFAFA;
    border: 1px solid #EDEDED;
    border-radius: 8px;
    padding: 16px 18px;
    font-size: 13px;
    color: #151515;
    line-height: 1.7;
    white-space: pre-wrap;
}

/* AI loading state */
.compare-ai-loading {
    display: flex;
    align-items: center;
    gap: 14px;
    padding: 28px 20px;
    background: #F6F6F6;
    border-radius: 10px;
    font-size: 14px;
    color: #696969;
    margin-top: 8px;
}

/* Error state */
.compare-error {
    background: #FEF2F2;
    border: 1px solid #FECACA;
    color: #991B1B;
    border-radius: 8px;
    padding: 12px 16px;
    font-size: 13px;
    margin-top: 8px;
}

/* Optional label */
.form-optional {
    font-weight: 400;
    color: #696969;
    font-size: 12px;
}

/* ===========================================================================
   Source Badges
   =========================================================================== */
.source-badge {
    display: inline-block;
    font-size: 9px;
    font-weight: 700;
    text-transform: uppercase;
    padding: 2px 5px;
    border-radius: 3px;
    letter-spacing: 0.3px;
    vertical-align: middle;
    margin-left: 4px;
    line-height: 1.4;
}
.source-badge-fp {
    background: #E0F1FF;
    color: #0059FF;
    border: 1px solid rgba(0,89,255,0.18);
}
.source-badge-custom {
    background: #EDE9FE;
    color: #7C3AED;
    border: 1px solid rgba(124,58,237,0.18);
}

/* Source filter toggle */
.source-filter {
    display: flex;
    gap: 2px;
    background: #F6F6F6;
    border: 1px solid #EDEDED;
    border-radius: 6px;
    padding: 2px;
}
.source-filter-btn {
    background: none;
    border: none;
    padding: 4px 10px;
    font-size: 12px;
    font-weight: 500;
    color: #696969;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.15s;
    white-space: nowrap;
}
.source-filter-btn:hover { color: #1a1a1a; }
.source-filter-btn.active {
    background: #fff;
    color: #0059FF;
    box-shadow: 0 1px 3px rgba(0,0,0,0.08);
}

/* ===========================================================================
   Custom record modals (wide)
   =========================================================================== */
.modal-wide { max-width: 680px !important; }

.modal-tabs {
    display: flex;
    gap: 0;
    border-bottom: 1px solid #EDEDED;
    margin: -4px -24px 20px;
    padding: 0 24px;
}
.modal-tab-btn {
    background: none;
    border: none;
    border-bottom: 2px solid transparent;
    padding: 10px 14px;
    font-size: 13px;
    font-weight: 500;
    color: #696969;
    cursor: pointer;
    margin-bottom: -1px;
    transition: all 0.15s;
}
.modal-tab-btn:hover { color: #1a1a1a; }
.modal-tab-btn.active {
    color: #0059FF;
    border-bottom-color: #0059FF;
}
.modal-tab-panel { display: none; }
.modal-tab-panel.active { display: block; }

/* Tags popover */
.tags-popover {
    position: absolute;
    z-index: 2000;
    background: #fff;
    border: 1px solid #EDEDED;
    border-radius: 10px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.14);
    padding: 14px;
    min-width: 240px;
    max-width: 300px;
}
.tags-popover-title {
    font-size: 12px;
    font-weight: 600;
    color: #696969;
    text-transform: uppercase;
    letter-spacing: 0.4px;
    margin-bottom: 10px;
}
.tags-list {
    display: flex;
    flex-wrap: wrap;
    gap: 5px;
    margin-bottom: 10px;
    min-height: 24px;
}
.tag-pill {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    background: #EDE9FE;
    color: #7C3AED;
    border: 1px solid rgba(124,58,237,0.2);
    border-radius: 12px;
    padding: 3px 8px;
    font-size: 12px;
    font-weight: 500;
}
.tag-pill-remove {
    background: none;
    border: none;
    color: #7C3AED;
    cursor: pointer;
    padding: 0;
    font-size: 14px;
    line-height: 1;
    opacity: 0.6;
}
.tag-pill-remove:hover { opacity: 1; }
.tags-input-row {
    display: flex;
    gap: 6px;
}
.tags-input-row input {
    flex: 1;
    font-size: 13px;
    padding: 5px 8px;
    border: 1px solid #EDEDED;
    border-radius: 6px;
    outline: none;
}
.tags-input-row input:focus { border-color: #0059FF; }
.tags-input-row button {
    font-size: 12px;
    padding: 5px 10px;
}

/* Notes section */
.notes-section { margin-top: 16px; }
.notes-section-title {
    font-size: 13px;
    font-weight: 600;
    color: #1a1a1a;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    gap: 8px;
}
.note-item {
    background: #F6F6F6;
    border-radius: 8px;
    padding: 10px 12px;
    margin-bottom: 8px;
    position: relative;
}
.note-item-text {
    font-size: 13px;
    color: #1a1a1a;
    line-height: 1.5;
    white-space: pre-wrap;
}
.note-item-meta {
    font-size: 11px;
    color: #696969;
    margin-top: 4px;
}
.note-item-delete {
    position: absolute;
    top: 8px;
    right: 8px;
    background: none;
    border: none;
    color: #B4B4B4;
    cursor: pointer;
    font-size: 15px;
    line-height: 1;
    padding: 0 2px;
}
.note-item-delete:hover { color: #ef4444; }
.notes-add-row {
    display: flex;
    gap: 8px;
    align-items: flex-start;
    margin-top: 10px;
}
.notes-add-row textarea {
    flex: 1;
    font-size: 13px;
    padding: 7px 10px;
    border: 1px solid #EDEDED;
    border-radius: 6px;
    resize: vertical;
    min-height: 60px;
    outline: none;
    font-family: inherit;
}
.notes-add-row textarea:focus { border-color: #0059FF; }

/* Kanban custom source border */
.kanban-card.source-custom { border-left: 3px solid #7C3AED; }
.kanban-card.source-fp { border-left: 3px solid #0059FF; }

/* ===========================================================================
   Dashboard Command Center
   =========================================================================== */

/* Quick actions bar */
.dash-quick-bar {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 16px;
    flex-wrap: wrap;
}
.dash-quick-spacer { flex: 1; }
.dash-quick-btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 7px 14px;
    border-radius: 6px;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    border: 1px solid #EDEDED;
    background: #fff;
    color: #333;
    transition: background 0.15s, border-color 0.15s;
    white-space: nowrap;
}
.dash-quick-btn:hover { background: #F6F6F6; border-color: #ccc; }
.dash-quick-btn.dash-quick-primary { background: #0059FF; color: #fff; border-color: #0059FF; }
.dash-quick-btn.dash-quick-primary:hover { background: #0047CC; border-color: #0047CC; }
.dash-quick-btn.dash-quick-secondary { color: #696969; }

/* 2-column row */
.dash-row-2col {
    display: grid;
    grid-template-columns: 60fr 40fr;
    gap: 16px;
    margin-bottom: 16px;
}
.dash-panel {
    background: #fff;
    border: 1px solid #EDEDED;
    border-radius: 10px;
    padding: 16px 18px;
    min-width: 0;
}
.dash-panel-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 12px;
}
.dash-panel-header .section-title { margin: 0; font-size: 15px; }

/* Metric cards — add tasks card */
.metric-icon-tasks { background: #FEF3C7; color: #D97706; }

/* Task rows */
.dash-tasks-list { display: flex; flex-direction: column; gap: 6px; }
.dash-task-row {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 10px;
    border-radius: 6px;
    background: #F6F6F6;
    font-size: 13px;
    cursor: pointer;
    transition: background 0.12s;
}
.dash-task-row:hover { background: #EDEDED; }
.dash-task-row.task-overdue { border-left: 3px solid #DC2626; }
.dash-task-row.task-today { border-left: 3px solid #D97706; }
.dash-task-row.task-upcoming { border-left: 3px solid #0059FF; }
.dash-task-check {
    width: 16px; height: 16px;
    border-radius: 50%;
    border: 2px solid #ccc;
    cursor: pointer;
    flex-shrink: 0;
    display: flex; align-items: center; justify-content: center;
    transition: border-color 0.15s, background 0.15s;
}
.dash-task-check:hover { border-color: #059669; background: #ECFDF5; }
.dash-task-title { flex: 1; font-weight: 500; color: #222; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; }
.dash-task-meta { font-size: 11px; color: #696969; white-space: nowrap; }
.dash-task-priority-high { color: #DC2626; font-weight: 700; }
.dash-task-priority-medium { color: #D97706; font-weight: 600; }
.dash-task-priority-low { color: #059669; }
.dash-tasks-empty { color: #696969; font-size: 13px; text-align: center; padding: 20px 0; }

/* Worklist cards grid */
.dash-worklists-grid { display: flex; flex-direction: column; gap: 8px; }
.dash-worklist-card {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 9px 12px;
    border-radius: 6px;
    background: #F6F6F6;
    cursor: pointer;
    font-size: 13px;
    transition: background 0.12s;
}
.dash-worklist-card:hover { background: #EDEDED; }
.dash-worklist-dot { width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0; }
.dash-worklist-name { flex: 1; font-weight: 500; color: #222; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; }
.dash-worklist-count { font-size: 11px; color: #696969; white-space: nowrap; }
.dash-worklists-empty { color: #696969; font-size: 13px; text-align: center; padding: 20px 0; }

/* ── Compact horizontal pipeline funnel ───────────────────────────────── */
.pfunnel-hbar {
    display: flex;
    height: 26px;
    border-radius: 6px;
    overflow: hidden;
    margin-bottom: 12px;
    gap: 2px;
}
.pfunnel-seg {
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 11px;
    font-weight: 700;
    color: rgba(255,255,255,.92);
    transition: width 0.5s;
    min-width: 32px;
    overflow: hidden;
    white-space: nowrap;
    padding: 0 8px;
    border-radius: 4px;
}
.pfunnel-seg span { pointer-events: none; }
.seg-early     { background: #0059FF; }
.seg-interview { background: #D97706; }
.seg-offer     { background: #22c55e; }
.pfunnel-chips { display: flex; flex-wrap: wrap; gap: 6px; }
.pfunnel-chip {
    font-size: 11px;
    padding: 3px 9px;
    border-radius: 10px;
    background: #F6F6F6;
    color: #555;
    border: 1px solid #E5E7EB;
}
.pfunnel-chip strong { font-weight: 700; }
.pchip-early    strong { color: #0059FF; }
.pchip-interview strong { color: #D97706; }
.pchip-offer    strong { color: #15803D; }

/* ── Pipeline Context Bar ─────────────────────────────────────────────── */
.pipeline-ctx-bar {
    background: #fff;
    border: 1px solid #EDEDED;
    border-radius: 8px;
    padding: 12px 20px;
    margin-bottom: 10px;
    min-height: 44px;
}
.ctx-loading { font-size: 13px; color: #B4B4B4; }
.ctx-row {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 6px 10px;
    font-size: 13px;
}
.ctx-title { font-weight: 700; color: #151515; font-size: 14px; }
.ctx-sep {
    display: inline-block;
    width: 3px; height: 3px;
    background: #C0C0C0;
    border-radius: 50%;
    vertical-align: middle;
    flex-shrink: 0;
}
.ctx-stat { color: #151515; font-weight: 500; }
.ctx-muted { color: #696969; }
.ctx-spacer { flex: 1 1 auto; }

/* Job-specific context bar */
.ctx-job-top {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 12px;
    margin-bottom: 4px;
}
.ctx-job-left { display: flex; align-items: baseline; gap: 6px; flex-wrap: wrap; }
.ctx-job-title { font-size: 16px; font-weight: 700; color: #151515; }
.ctx-job-dash { color: #B4B4B4; font-size: 14px; }
.ctx-job-firm {
    font-size: 14px;
    color: #0059FF;
    cursor: pointer;
    font-weight: 500;
}
.ctx-job-firm:hover { text-decoration: underline; }
.ctx-job-meta { font-size: 12px; color: #696969; margin-bottom: 6px; }
.ctx-job-stats {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 6px 10px;
    font-size: 13px;
}
.ctx-job-actions { display: flex; gap: 8px; flex-shrink: 0; }
.btn-xs {
    font-size: 12px;
    padding: 4px 10px;
    border-radius: 5px;
    line-height: 1.4;
    white-space: nowrap;
}

/* ── Pipeline Funnel Bar (full-stage) ─────────────────────────────────── */
.pipeline-funnel-wrap { margin-bottom: 10px; }
.pfunnel-bar {
    display: flex;
    height: 38px;
    border-radius: 7px;
    overflow: hidden;
    gap: 1px;
    background: #e8e8e8;
}
.pfunnel-seg {
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    cursor: default;
    transition: opacity 0.15s, filter 0.15s;
    min-width: 0;
    position: relative;
}
.pfunnel-seg:hover { opacity: 0.82; }
.pfunnel-zero { opacity: 0.35; }
.pfunnel-seg-lbl {
    display: flex;
    align-items: center;
    gap: 3px;
    font-size: 11px;
    white-space: nowrap;
    overflow: hidden;
    padding: 0 6px;
    pointer-events: none;
}
.pfunnel-seg-lbl b { font-weight: 700; }
.pfunnel-seg-lbl em { font-style: normal; opacity: 0.7; font-size: 10px; }

/* Stage color ramp */
.fseg-e1 { background: #BFDBFE; color: #1e40af; }
.fseg-e2 { background: #93C5FD; color: #1e40af; }
.fseg-e3 { background: #60A5FA; color: #1e3a8a; }
.fseg-e4 { background: #3B82F6; color: #fff; }
.fseg-m1 { background: #2563EB; color: #fff; }
.fseg-m2 { background: #1D4ED8; color: #fff; }
.fseg-m3 { background: #1e40af; color: #fff; }
.fseg-m4 { background: #1e3a8a; color: #fff; }
.fseg-o1 { background: #16a34a; color: #fff; }
.fseg-o2 { background: #15803d; color: #fff; }
.fseg-placed  { background: #22c55e; color: #fff; }
.fseg-reject  { background: #fca5a5; color: #7f1d1d; }
.fseg-hold    { background: #fde68a; color: #78350f; }

/* ── Unified Action Items list ────────────────────────────────────────── */
.ai-list { display: flex; flex-direction: column; }
.ai-item {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    padding: 9px 16px;
    border-bottom: 1px solid #F2F2F2;
    transition: background 0.1s;
    min-height: 42px;
}
.ai-item:last-child { border-bottom: none; }
.ai-item-task { cursor: pointer; }
.ai-item-task:hover { background: #FAFAFA; }
.ai-item-alert {
    border-left: 3px solid #E5E7EB;
    cursor: default;
}
/* Overdue / today rows */
.ai-item-task.task-overdue { background: #FEF9F9; }
.ai-item-task.task-overdue:hover { background: #FEF2F2; }
.ai-item-task.task-today { border-left: 2px solid #D97706; }

/* Checkbox */
.ai-check {
    width: 16px; height: 16px; border-radius: 50%;
    border: 2px solid #D1D5DB;
    flex-shrink: 0; margin-top: 3px;
    cursor: pointer;
    transition: border-color .15s, background .15s;
    display: flex; align-items: center; justify-content: center;
}
.ai-check:hover { border-color: #059669; background: #ECFDF5; }
.ai-check.ai-check-done { border-color: #059669; background: #059669; }
.ai-check.ai-check-done::after {
    content: "";
    display: block;
    width: 5px; height: 8px;
    border-right: 2px solid #fff;
    border-bottom: 2px solid #fff;
    transform: rotate(45deg) translate(-1px, -1px);
}

/* Alert icon */
.ai-alert-icon {
    flex-shrink: 0; width: 16px; height: 16px;
    display: flex; align-items: center; justify-content: center;
    margin-top: 3px;
}

/* Body */
.ai-body { flex: 1; min-width: 0; }
.ai-top { display: flex; align-items: center; gap: 6px; flex-wrap: wrap; }
.ai-title { font-size: 13px; font-weight: 500; color: #222; flex: 1; min-width: 0; }
.ai-meta { display: flex; align-items: center; gap: 4px; margin-top: 3px; flex-wrap: wrap; }

/* Priority dot */
.ai-priority-dot { width: 7px; height: 7px; border-radius: 50%; flex-shrink: 0; }
.dot-high   { background: #DC2626; }
.dot-medium { background: #D97706; }
.dot-low    { background: #9CA3AF; }

/* OVERDUE badge */
.ai-overdue-badge {
    font-size: 9px; font-weight: 800; letter-spacing: .08em;
    color: #DC2626; background: #FEE2E2;
    padding: 1px 5px; border-radius: 4px; flex-shrink: 0;
}

/* Type / due labels */
.ai-type-label {
    font-size: 10px; color: #696969; background: #F3F4F6;
    padding: 1px 5px; border-radius: 4px; flex-shrink: 0;
}
.ai-due-label { font-size: 11px; color: #696969; white-space: nowrap; }
.ai-due-today { color: #D97706; font-weight: 600; }

/* Linked pills */
.ai-pill {
    font-size: 10px; padding: 1px 7px; border-radius: 10px;
    white-space: nowrap; font-weight: 500;
}
.ai-pill-cand { background: #E0F1FF; color: #0047CC; }
.ai-pill-job  { background: #F1F5F9; color: #475569; }
.ai-pill-firm { background: #F3F4F6; color: #6B7280; }

/* Alert action link */
.ai-action-link {
    font-size: 11px; color: #0059FF; font-weight: 600;
    cursor: pointer; text-decoration: none;
}
.ai-action-link:hover { text-decoration: underline; }
.dash-badge-count {
    display: inline-block;
    background: #DC2626;
    color: #fff;
    font-size: 10px;
    font-weight: 700;
    padding: 1px 6px;
    border-radius: 10px;
    min-width: 18px;
    text-align: center;
}
.dash-badge-count:empty { display: none; }

/* Loading placeholder */
.dash-loading { color: #aaa; font-size: 13px; padding: 16px 0; text-align: center; }

/* Worklist detail modal */
.worklist-detail-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 16px;
    flex-wrap: wrap;
}
.worklist-detail-dot { width: 12px; height: 12px; border-radius: 50%; flex-shrink: 0; }
.worklist-detail-count { font-size: 13px; color: #696969; margin-left: 4px; }
.worklist-detail-actions { display: flex; gap: 8px; margin-left: auto; flex-wrap: wrap; }
.worklist-members-list { display: flex; flex-direction: column; gap: 6px; max-height: 480px; overflow-y: auto; }
.worklist-member-row {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 10px;
    border-radius: 6px;
    background: #F6F6F6;
    font-size: 13px;
}
.worklist-member-name { font-weight: 600; color: #222; flex: 1; }
.worklist-member-firm { color: #696969; font-size: 12px; }
.worklist-member-remove { color: #DC2626; cursor: pointer; font-size: 16px; padding: 2px 6px; border-radius: 4px; }
.worklist-member-remove:hover { background: #FEF2F2; }

/* Add-to-worklist modal */
.add-to-worklist-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 9px 10px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 13px;
    transition: background 0.12s;
}
.add-to-worklist-item:hover { background: #F6F6F6; }
.add-to-worklist-dot { width: 9px; height: 9px; border-radius: 50%; flex-shrink: 0; }
.add-to-worklist-name { flex: 1; }
.add-to-worklist-check { color: #059669; font-weight: 700; }

/* Worklist color picker */
.worklist-color-picker { display: flex; gap: 8px; margin-top: 6px; }
.wl-color-swatch {
    width: 26px; height: 26px;
    border-radius: 50%;
    border: 2px solid transparent;
    cursor: pointer;
    transition: transform 0.1s, border-color 0.1s;
}
.wl-color-swatch.active { border-color: #333; transform: scale(1.15); }

/* Responsive */
@media (max-width: 900px) {
    .dash-row-2col { grid-template-columns: 1fr; }
}

/* ── Pipeline Metrics (6-column grid on pipeline page) ── */
.pipeline-metrics {
    grid-template-columns: repeat(6, 1fr);
    margin-bottom: 0;
    padding-bottom: 16px;
}
@media (max-width: 1400px) {
    .pipeline-metrics { grid-template-columns: repeat(3, 1fr); }
}
@media (max-width: 900px) {
    .pipeline-metrics { grid-template-columns: repeat(2, 1fr); }
}

/* ── Profile email history section ── */
.profile-email-history {
    margin-top: 16px;
    border-top: 1px solid #EDEDED;
    padding-top: 12px;
}
.profile-email-history-header {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 12px;
    font-weight: 600;
    color: #696969;
    text-transform: uppercase;
    letter-spacing: 0.04em;
    margin-bottom: 8px;
}
.profile-email-history-body { font-size: 12px; }
.profile-email-none { color: #9CA3AF; font-size: 12px; }
.profile-email-row {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 5px 0;
    border-bottom: 1px solid #F6F6F6;
}
.profile-email-row:last-child { border-bottom: none; }
.peh-dot { font-size: 8px; flex-shrink: 0; }
.peh-dot-sent    { color: #9CA3AF; }
.peh-dot-opened  { color: #22c55e; }
.peh-dot-failed  { color: #EF4444; }
.peh-date  { color: #696969; white-space: nowrap; flex-shrink: 0; }
.peh-subject { flex: 1; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; color: #333; }
.peh-tag {
    font-size: 10px;
    padding: 1px 5px;
    border-radius: 3px;
    white-space: nowrap;
    flex-shrink: 0;
}
.peh-tag-opened  { background: #DCFCE7; color: #166534; }
.peh-tag-replied { background: #DBEAFE; color: #1D4ED8; }
.peh-tag-clicked { background: #FEF9C3; color: #854D0E; }

/* ── Email Hub ── */
.sent-emails-view { padding: 0; }
.email-hub-wrap { padding: 0; }

.email-hub-header {
    display: flex; align-items: center; justify-content: space-between;
    padding: 20px 28px 0;
}
.email-hub-header-left { display: flex; align-items: center; gap: 12px; }
.email-hub-header-right { display: flex; align-items: center; gap: 8px; }

/* Nylas banner */
.nylas-banner {
    display: flex; align-items: flex-start; gap: 10px;
    background: #EEF2FF; border: 1px solid #C7D2FE; border-radius: 8px;
    padding: 10px 14px; font-size: 12.5px; color: #4338CA;
    margin: 12px 28px 0;
}
.nylas-banner svg { flex-shrink: 0; margin-top: 1px; }
.hub-banner-dismiss {
    margin-left: auto; background: none; border: none;
    color: #4338CA; cursor: pointer; font-size: 18px; line-height: 1; padding: 0 2px;
}
.hub-banner-dismiss:hover { color: #1e1b4b; }
.nylas-dash { color: #9CA3AF; font-style: italic; }

/* Status tabs */
.hub-tabs {
    display: flex; border-bottom: 1px solid var(--gray-light);
    padding: 0 28px; margin-top: 12px; gap: 0;
}
.hub-tab {
    background: none; border: none; border-bottom: 2px solid transparent;
    padding: 10px 16px 8px; font-size: 13px; font-weight: 500; color: var(--gray);
    cursor: pointer; font-family: var(--font); transition: color .15s, border-color .15s;
    margin-bottom: -1px; display: flex; align-items: center; gap: 6px;
}
.hub-tab:hover { color: var(--dark); }
.hub-tab.active { color: var(--primary); border-bottom-color: var(--primary); font-weight: 600; }
.hub-tab-badge {
    font-size: 10px; padding: 1px 6px; background: var(--gray-lighter);
    border-radius: 10px; color: var(--gray); font-weight: 500;
}

/* Stats bar */
.hub-stats-bar {
    display: flex; align-items: center; gap: 10px; flex-wrap: wrap;
    padding: 14px 28px;
}
.hub-stat-chip {
    display: flex; flex-direction: column; align-items: center;
    background: var(--gray-lighter); border-radius: 8px; padding: 10px 20px; min-width: 80px;
}
.hub-stat-val { font-size: 22px; font-weight: 700; color: var(--dark); }
.hub-stat-label { font-size: 11px; color: var(--gray); margin-top: 1px; }
.nylas-gated .hub-stat-val { color: #9CA3AF; }

/* Filter bar */
.hub-filter-bar {
    display: flex; align-items: center; gap: 8px; padding: 0 28px 14px; flex-wrap: wrap;
}

/* Count bar */
.hub-count-bar { font-size: 12px; color: var(--gray); padding: 0 28px 8px; }

/* Email table */
#hub-table-area { padding: 0 28px 24px; }
.hub-email-table {
    width: 100%; border-collapse: collapse; font-size: 13px;
}
.hub-email-table th {
    text-align: left; font-size: 11px; font-weight: 700; text-transform: uppercase;
    letter-spacing: .4px; color: var(--gray); padding: 8px 10px;
    border-bottom: 2px solid var(--gray-light);
}
.hub-email-table td {
    padding: 10px 10px; border-bottom: 1px solid var(--gray-lighter); vertical-align: middle;
}
.hub-row-clickable { cursor: pointer; transition: background .1s; }
.hub-row-clickable:hover { background: var(--gray-lighter); }
.hub-subject { font-weight: 500; color: var(--dark); max-width: 240px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.hub-recipients { font-size: 12px; color: var(--dark); max-width: 180px; }
.hub-badge-bulk {
    display: inline-block; font-size: 11px; padding: 2px 8px;
    background: var(--primary-light); color: var(--primary-dark);
    border-radius: 10px; font-weight: 500;
}
.hub-job-tag {
    display: inline-block; font-size: 11px; padding: 2px 8px;
    background: var(--gray-lighter); color: var(--gray); border-radius: 10px;
}
.hub-na-cell { color: #9CA3AF; }
.hub-na { color: #9CA3AF; }
.hub-status-badge {
    display: inline-block; font-size: 10px; font-weight: 600; padding: 2px 8px;
    border-radius: 10px; text-transform: capitalize;
}
.hub-status-badge.sent    { background: #DCFCE7; color: #166534; }
.hub-status-badge.failed  { background: #FEE2E2; color: #991B1B; }
.hub-status-badge.skipped { background: #FEF9C3; color: #92400E; }
.hub-status-badge.opened  { background: var(--primary-light); color: var(--primary-dark); }

.hub-loading { padding: 24px 28px; color: var(--gray); font-size: 13px; }
.hub-empty { padding: 32px 28px; color: var(--gray); font-size: 13px; text-align: center; }

/* Pagination */
.hub-pagination {
    display: flex; align-items: center; gap: 4px; padding: 12px 0 0; flex-wrap: wrap;
}
.hub-page-btn {
    min-width: 32px; height: 32px; padding: 0 8px; border: 1px solid var(--gray-light);
    background: var(--white); border-radius: 6px; cursor: pointer; font-size: 12px;
    color: var(--dark); font-family: var(--font); transition: background .1s;
}
.hub-page-btn:hover { background: var(--gray-lighter); }
.hub-page-btn.active { background: var(--primary); color: #fff; border-color: var(--primary); }
.hub-page-ellipsis { color: var(--gray); padding: 0 4px; font-size: 12px; }

/* Detail view */
#hub-detail-area { padding: 0 28px 24px; }
.hub-detail-header {
    display: flex; align-items: flex-start; gap: 14px; padding: 16px 0; margin-bottom: 12px;
    border-bottom: 1px solid var(--gray-light);
}
.hub-back-btn {
    background: none; border: 1px solid var(--gray-light); border-radius: 6px;
    padding: 6px 12px; cursor: pointer; font-size: 12px; color: var(--dark);
    font-family: var(--font); white-space: nowrap; flex-shrink: 0; transition: background .1s;
}
.hub-back-btn:hover { background: var(--gray-lighter); }
.hub-detail-meta { flex: 1; min-width: 0; }
.hub-detail-subject { font-size: 16px; font-weight: 600; color: var(--dark); display: block; margin-bottom: 4px; }
.hub-detail-info { font-size: 12px; color: var(--gray); }

.hub-detail-body-section { margin-bottom: 16px; }
.hub-detail-body-label {
    font-size: 11px; font-weight: 700; text-transform: uppercase;
    letter-spacing: .5px; color: var(--gray); margin-bottom: 8px;
}
.hub-detail-body {
    background: var(--gray-lighter); border-radius: 8px; padding: 14px 16px;
    font-size: 13px; line-height: 1.65; color: var(--dark);
    white-space: pre-wrap; max-height: 240px; overflow-y: auto;
}

.hub-detail-recipients-label {
    font-size: 11px; font-weight: 700; text-transform: uppercase;
    letter-spacing: .5px; color: var(--gray); margin-bottom: 8px;
}
.hub-detail-table td { font-size: 12px; }

.nylas-tracking-note { font-size: 12px; color: #9CA3AF; margin-top: 8px; }
.hub-link { color: var(--primary); text-decoration: none; }
.hub-link:hover { text-decoration: underline; }

.cell-email { max-width: 160px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.cell-center { text-align: center; }

/* ── My Candidates / My Active Jobs compact tables ── */
.my-table-wrap {
    overflow-x: auto;
}
.my-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 13px;
    table-layout: fixed;
}
.my-table-th {
    text-align: left;
    font-weight: 600;
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: .04em;
    color: var(--gray);
    padding: 6px 10px;
    border-bottom: 1px solid var(--gray-light);
    white-space: nowrap;
    cursor: default;
    user-select: none;
}
.my-table-sortable { cursor: pointer; }
.my-table-sortable:hover { color: var(--primary); }
.my-table-row {
    height: 40px;
    border-bottom: 1px solid #F2F2F2;
}
.my-table-row:last-child { border-bottom: none; }
.my-table-row:hover { background: #FAFAFA; }
.my-table-td {
    padding: 0 10px;
    vertical-align: middle;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 180px;
}
.my-table-muted { color: var(--gray); font-size: 12px; }
.my-table-actions { white-space: nowrap; max-width: none; vertical-align: middle; }
.my-table-actions .my-action-btn + .my-action-btn { margin-left: 3px; }

/* Candidate name link */
.cand-name-link {
    font-weight: 600;
    color: var(--primary);
    cursor: pointer;
}
.cand-name-link:hover { text-decoration: underline; }
.cand-job-link {
    color: var(--dark);
    cursor: pointer;
    font-weight: 500;
}
.cand-job-link:hover { color: var(--primary); text-decoration: underline; }
.cand-firm-link {
    color: var(--gray);
    cursor: pointer;
}
.cand-firm-link:hover { color: var(--primary); }

/* Stage pills */
.stage-pill {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 11px;
    font-weight: 600;
    white-space: nowrap;
}
.stage-pill-early    { background: #E0F1FF; color: #0059FF; }
.stage-pill-interview{ background: #FEF9C3; color: #A16207; }
.stage-pill-offer    { background: #DCFCE7; color: #15803D; }
.stage-pill-rejected { background: #FEE2E2; color: #B91C1C; }

/* Job status pills */
.job-status-pill {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 11px;
    font-weight: 600;
}
.job-status-active  { background: #DCFCE7; color: #15803D; }
.job-status-hold    { background: #FEF9C3; color: #A16207; }
.job-status-closed  { background: #F1F5F9; color: #64748B; }
.job-status-filled  { background: #E0F1FF; color: #0059FF; }

/* Days stuck */
.days-stuck { color: #DC2626; font-weight: 600; }

/* Stage dots (micro progress viz) */
.stage-dots { display: inline-flex; align-items: center; gap: 2px; }
.stage-dot {
    display: inline-block;
    width: 8px; height: 8px;
    border-radius: 50%;
    flex-shrink: 0;
}
.dot-early     { background: #93C5FD; }
.dot-interview { background: #FCD34D; }
.dot-placed    { background: #86EFAC; }
.stage-dot-overflow { font-size: 10px; color: var(--gray); margin-left: 2px; }

/* Quick action buttons in table */
.my-action-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 26px; height: 26px;
    border: 1px solid var(--gray-light);
    border-radius: 6px;
    background: #fff;
    color: var(--gray);
    cursor: pointer;
    transition: border-color .15s, color .15s;
    padding: 0;
    flex-shrink: 0;
}
.my-action-btn:hover { border-color: var(--primary); color: var(--primary); }

/* Filter pills bar */
.my-cand-filters {
    display: flex;
    align-items: center;
    gap: 4px;
    flex-wrap: wrap;
}
.stage-filter-pill {
    display: inline-block;
    padding: 3px 10px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 600;
    border: 1px solid var(--gray-light);
    background: #fff;
    color: var(--gray);
    cursor: pointer;
    transition: background .12s, color .12s, border-color .12s;
    line-height: 1.6;
}
.stage-filter-pill:hover { border-color: var(--primary); color: var(--primary); }
.stage-filter-pill.active { background: var(--primary); border-color: var(--primary); color: #fff; }

/* "View All" link */
.btn-link {
    font-size: 12px;
    font-weight: 600;
    color: var(--primary);
    text-decoration: none;
    white-space: nowrap;
}
.btn-link:hover { text-decoration: underline; }

/* Full-width panel */
.dash-full { width: 100%; }

/* ===========================================================================
   Autocomplete fields (task modal)
   =========================================================================== */
.ac-field {
    position: relative;
}
.ac-input {
    width: 100%;
    padding: 8px 10px;
    border: 1px solid #EDEDED;
    border-radius: 6px;
    font-size: 13px;
    outline: none;
    box-sizing: border-box;
    transition: border-color 0.15s;
}
.ac-input:focus { border-color: #0059FF; }
.ac-dropdown {
    position: absolute;
    top: calc(100% + 3px);
    left: 0; right: 0;
    background: #fff;
    border: 1px solid #EDEDED;
    border-radius: 6px;
    box-shadow: 0 4px 16px rgba(0,0,0,0.10);
    z-index: 9999;
    max-height: 220px;
    overflow-y: auto;
}
.ac-option {
    padding: 9px 12px;
    font-size: 13px;
    cursor: pointer;
    color: #333;
    border-bottom: 1px solid #F6F6F6;
    transition: background 0.1s;
}
.ac-option:last-child { border-bottom: none; }
.ac-option:hover, .ac-option.ac-focused { background: #E0F1FF; }
.ac-option-sub { font-size: 11px; color: #696969; margin-top: 1px; }
.ac-no-results { padding: 10px 12px; font-size: 13px; color: #aaa; }
.ac-pill {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    background: #E0F1FF;
    border: 1px solid #0059FF30;
    border-radius: 20px;
    padding: 4px 10px 4px 12px;
    font-size: 13px;
    color: #0059FF;
    font-weight: 500;
    margin-bottom: 6px;
    max-width: 100%;
}
.ac-pill-clear {
    background: none;
    border: none;
    cursor: pointer;
    color: #0059FF;
    font-size: 15px;
    line-height: 1;
    padding: 0;
    display: flex;
    align-items: center;
}
.ac-pill-clear:hover { color: #DC2626; }
